<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.prFile version="1">
    <org.eventb.core.prProof name="INITIALISATION/inv1/INV"/>
    <org.eventb.core.prProof name="INITIALISATION/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 4 ∣ i ↦ 0})"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv3/INV"/>
    <org.eventb.core.prProof name="INITIALISATION/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 2}∪{i⦂ℤ·i∈2 ‥ 4 ∣ i ↦ 0})"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv5/INV"/>
    <org.eventb.core.prProof name="INITIALISATION/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 1}∪{i⦂ℤ·i∈2 ‥ 4 ∣ i ↦ 0})"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv7/INV"/>
    <org.eventb.core.prProof name="INITIALISATION/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 2 ∣ i ↦ 0})"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 4 ∣ i ↦ FALSE})"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 2 ∣ i ↦ FALSE})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 4 ∣ i ↦ FALSE})"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 2 ∣ i ↦ 0})"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 2 ∣ i ↦ FALSE})"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv14/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 2 ∣ i ↦ 0})"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 2 ∣ i ↦ FALSE})"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv16/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 2 ∣ i ↦ 0})"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="inv13/THM"/>
    <org.eventb.core.prProof name="exit_P1_R1/grd2/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p11,p9,p3,p8,p16,p4,p13,p6,p2,p7,p12,p5,p10,p14,p1,p15">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p18">
                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p11"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="1∈dom(P1)∧P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="1∈dom(P1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1_R1/inv1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24,p25"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p28"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p14,p11,p4,p10,p21,p5,p16,p8,p3,p9,p15,p7,p12,p18,p2,p19,p1,p22,p17,p20,p24,p25,p27,p29">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2(1)≠TRUE⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="P1ToP2(1)=FALSE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1ToP2(2)=FALSE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="P1(1)=TRUE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToP2(1)≠TRUE∧P1ToP2(2)≠TRUE"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1{1 ↦ FALSE}∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="1∈dom(P1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="P1ToP2(1)=FALSE⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1(1)≠FALSE"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1_R1/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p11,p9,p3,p8,p18,p4,p13,p6,p2,p7,p12,p5,p10,p15,p1,p16,p14,p17,p20">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P1(1)=TRUE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P1{0 ↦ FALSE})"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="1∈dom(P1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P1(1)≠FALSE"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1_R1/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24,p25"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p28"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p14,p11,p4,p10,p21,p5,p16,p8,p3,p9,p15,p7,p12,p18,p2,p19,p1,p22,p17,p20,p24,p25,p27,p29">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2(1)≠TRUE⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="P1ToP2(1)=FALSE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1ToP2(2)=FALSE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="P1(1)=TRUE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToP2(1)≠TRUE∧P1ToP2(2)≠TRUE"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="1∈dom(P1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="P1ToP2(1)=FALSE⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1ToP2{1 ↦ P1(1)}∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1(1)≠FALSE"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1_R1/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24,p25"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p28"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p14,p11,p4,p10,p21,p5,p16,p8,p3,p9,p15,p7,p12,p18,p2,p19,p1,p22,p17,p20,p24,p25,p27,p29">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P1ToP2{1 ↦ P1(1)})"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2(1)≠TRUE⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="P1ToP2(1)=FALSE"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1ToP2(2)=FALSE"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="P1(1)=TRUE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToP2(1)≠TRUE∧P1ToP2(2)≠TRUE"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="1∈dom(P1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="P1ToP2(1)=FALSE⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1(1)≠FALSE"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1_R1/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5,p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p11" org.eventb.core.prHyps=""/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="⊤∧⊤"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToP2(1)≠TRUE∧P1ToP2(2)≠TRUE">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="1∈dom(P1)∧P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1(1)=TRUE"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="1∈dom(P1)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2(1)=FALSE">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2(2)=FALSE">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P1ToP2(1)≠TRUE⇒2∈dom(P1ToP2)">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P1ToP2(1)=FALSE⇒2∈dom(P1ToP2)">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1(1)≠FALSE"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1_R1/grd1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p11,p9,p3,p8,p16,p4,p13,p6,p2,p7,p12,p5,p10,p14,p1,p15">
                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p19">
                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="p2"/>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p20">
                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p21">
                                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p11,p9,p3,p8,p16,p4,p13,p6,p2,p7,p12,p5,p10,p14,p1,p15,p21">
                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL∧(P1ToP2(1)=FALSE⇒2∈dom(P1ToP2))"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL∧(P1ToP2(1)≠TRUE⇒2∈dom(P1ToP2))"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="P1ToP2(1)=FALSE"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P1ToP2(1)=FALSE⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="INITIALISATION/inv17/INV"/>
    <org.eventb.core.prProof name="INITIALISATION/inv18/INV"/>
    <org.eventb.core.prProof name="INITIALISATION/inv19/INV"/>
    <org.eventb.core.prProof name="INITIALISATION/inv20/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({i⦂ℤ·i∈1 ‥ 4 ∣ i ↦ FALSE})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="inv9/THM"/>
    <org.eventb.core.prProof name="INITIALISATION/inv21/INV"/>
    <org.eventb.core.prProof name="INITIALISATION/inv22/INV"/>
    <org.eventb.core.prProof name="exit_stations/grd4/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p20"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21"/>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p22">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p13,p11,p5,p10,p19,p6,p15,p8,p4,p9,p14,p7,p12,p17,p2,p18,p3,p1,p16">
                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="depart" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="nextRail" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="depart∈{P1,P2,P3,S1}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="rame∈dom(depart)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="depart∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(depart)∧depart∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="nextRail∈{P1ToP2,P2ToP3,P1ToS1,S1ToP3}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_stations/grd3/WD"/>
    <org.eventb.core.prProof name="exit_stations/grd6/WD"/>
    <org.eventb.core.prProof name="exit_stations/grd7/WD"/>
    <org.eventb.core.prProof name="exit_stations/grd1/THM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p0"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/grd6/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p5"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="p6">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p10"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with Direction=TRUE" org.eventb.core.prHyps="p6">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p12"/>
                                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p11"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p14">
                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p14" org.eventb.core.prHyps="p3"/>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p15">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p10"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with Direction=TRUE" org.eventb.core.prHyps="p6">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p12"/>
                                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p11"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p16">
                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="p4"/>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="+" org.eventb.core.prGoal="p17">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p10"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with Direction=TRUE" org.eventb.core.prHyps="p6">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p12"/>
                                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p11"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="," org.eventb.core.prGoal="p18">
                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p2"/>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="-" org.eventb.core.prGoal="p19">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p10"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p10"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with Direction=TRUE" org.eventb.core.prHyps="p6">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p12"/>
                                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p11"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="." org.eventb.core.prGoal="p20">
                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p1"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Direction" org.eventb.core.type="BOOL"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="0∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="0∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="direction=TRUE⇒Direction=TRUE">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="0∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="direction=FALSE⇒Direction=FALSE">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="0∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL∧0∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL∧0∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL∧0∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="direction=TRUE⇒⊤">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="0∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToS1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="direction=TRUE">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="Direction=TRUE⇒0∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL∧0∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL∧0∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL∧0∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="direction=FALSE⇒TRUE=FALSE">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="Direction=TRUE"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/grd7/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p21"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p22">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p26"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with Direction=FALSE" org.eventb.core.prHyps="p22">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p27"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p28"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p3,p18"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p13,p11,p5,p10,p19,p6,p15,p8,p4,p9,p14,p7,p12,p16,p2,p17,p1,p3,p18,p20,p22,p29">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p30">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="p4"/>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p31">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p26"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with Direction=FALSE" org.eventb.core.prHyps="p22">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p27"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p28"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p3,p18"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p13,p11,p5,p10,p19,p6,p15,p8,p4,p9,p14,p7,p12,p16,p2,p17,p1,p3,p18,p20,p22,p29">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p32">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="p14"/>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="+" org.eventb.core.prGoal="p33">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p26"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with Direction=FALSE" org.eventb.core.prHyps="p22">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p27"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p28"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p3,p18"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="p13,p11,p5,p10,p19,p6,p15,p8,p4,p9,p14,p7,p12,p16,p2,p17,p1,p3,p18,p20,p22,p29">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="," org.eventb.core.prGoal="p34">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p12"/>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="-" org.eventb.core.prGoal="p35">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p26"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with Direction=FALSE" org.eventb.core.prHyps="p22">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p27"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p28"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p3,p18"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p13,p11,p5,p10,p19,p6,p15,p8,p4,p9,p14,p7,p12,p16,p2,p17,p1,p3,p18,p20,p22,p29">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="." org.eventb.core.prGoal="p36">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="p2"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="Direction" org.eventb.core.type="BOOL"/>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        <org.eventb.core.prIdent name="nextRail" org.eventb.core.type="BOOL"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="direction∈BOOL"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="direction=FALSE⇒⊤"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="direction=TRUE⇒Direction=TRUE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="Direction=FALSE"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="1∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="P1ToS1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="1∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="1∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="Direction=FALSE⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL∧1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL∧1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL∧1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="Direction=TRUE⇒nextRail∈{P1ToP2(0),P2ToP3(0),P1ToS1(0),S1ToP3(0)}"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="direction=TRUE⇒FALSE=TRUE"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="Direction=TRUE⇒0∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL∧0∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL∧0∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL∧0∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="direction=FALSE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="direction=FALSE⇒Direction=FALSE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL∧1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL∧1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL∧1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="FALSE=TRUE⇒nextRail∈{P1ToP2(0),P2ToP3(0),P1ToS1(0),S1ToP3(0)}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/inv1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p25,p22,p18,p8,p10,p5,p3,p20,p16,p21,p4,p6,p9,p12,p1,p13,p2,p19,p23,p11,p15,p14,p26,p27,p28">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2∧S1(1)≠1∧S1(2)≠1"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1{rame ↦ 0}∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="destination=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ∧(P1ToP2(1)=0⇒2∈dom(P1ToP2))"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(P1ToS1(2)≠2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2∧¬S1(1)=1∧¬S1(2)=1"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="destination∈{2,3}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1(rame)=1"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p25,p22,p18,p8,p10,p5,p3,p20,p16,p21,p4,p6,p9,p12,p1,p13,p2,p19,p23,p11,p15,p14,p26,p27,p28">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2∧S1(1)≠1∧S1(2)≠1"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="destination=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ∧(P1ToP2(1)=0⇒2∈dom(P1ToP2))"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P1{rame ↦ 0})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(P1ToS1(2)≠2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2∧¬S1(1)=1∧¬S1(2)=1"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="destination∈{2,3}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1(rame)=1"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/grd8/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p3"/>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p4">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p4" org.eventb.core.prHyps="p1"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(P1)∧P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p19">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=2" org.eventb.core.prHyps="p19">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p9" org.eventb.core.prInfHyps="p22"/>
                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p9"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p22"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p18,p13,p7,p12,p15,p6,p3,p10,p5,p11,p4,p8,p14,p16,p1,p17,p2,p9,p19">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p23">
                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p5"/>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p24">
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p25">
                                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=2" org.eventb.core.prHyps="p19">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p9" org.eventb.core.prInfHyps="p22"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p9"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p22"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p18,p13,p7,p12,p15,p6,p3,p10,p5,p11,p4,p8,p14,p16,p1,p17,p2,p9,p19,p25">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="2∈{2,3}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="P1ToP2(1)=0⇒2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1ToP2(1)=0"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ∧(P1ToP2(1)=0⇒2∈dom(P1ToP2))"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="destination∈{2,3}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="destination=2"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ∧(P1ToP2(1)=0⇒2∈dom(P1ToP2))"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/grd3/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2"/>
            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p3">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(P1)∧P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/inv10/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2∧S1(1)≠1∧S1(2)≠1">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=2⇒P1ToP2'={1 ↦ 1,2 ↦ P1ToP2(2)}">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}∧destination=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}∧(destination=2⇒P1ToP2'={1 ↦ 1,2 ↦ P1ToP2(2)})">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊤∧destination=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(P1ToS1(2)≠2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠1⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="destination=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2∧¬S1(1)=1∧¬S1(2)=1">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P1ToP3'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P1ToP3')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
                        <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="p10,p11">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p14"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p15"/>
                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16,p17,p18"/>
                                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19,p20"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p21"/>
                                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p21"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p17">
                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="⊤⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ∧(P1ToP2(1)=0⇒⊥)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬P1ToP2(2)=2"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1ToP3'∈1 ‥ 2 → {0,1,2}∧destination=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬P1ToP2(1)=0"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P1ToP2(1)=0"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P1ToP2'⦂ℙ(ℤ×ℤ)·P1ToP2'∈1 ‥ 2 → {0,1,2}∧destination=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1(rame)≠0">
            <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬P1(rame)=0">
            <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="destination=2"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="⊤⇒P1ToP2(1)=0∧¬P1ToP2(2)=2"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ∧(P1ToP2(1)=0⇒2∈dom(P1ToP2))"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/act1/FIS" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2∧S1(1)≠1∧S1(2)≠1">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(P1ToS1(2)≠2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠1⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2∧¬S1(1)=1∧¬S1(2)=1">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p11"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧destination=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1(rame)≠0">
            <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬P1(rame)=0">
            <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧(destination=3⇒P1ToS1'={1 ↦ 1,2 ↦ P1ToS1(2)})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧destination=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(destination=3⇒P1ToS1'={1 ↦ 1,2 ↦ P1ToS1(2)})"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/inv14/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧destination=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2∧S1(1)≠1∧S1(2)≠1">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧(destination=3⇒P1ToS1'={1 ↦ 1,2 ↦ P1ToS1(2)})">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(P1ToS1(2)≠2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠1⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊤∧destination=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="destination=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2∧¬S1(1)=1∧¬S1(2)=1">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=3⇒P1ToS1'={1 ↦ 1,2 ↦ P1ToS1(2)}">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/act3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P1ToS2'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P1ToS2')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="p9,p10">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p13"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p14"/>
                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16,p17,p18"/>
                                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19,p20,p21"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p22"/>
                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p23"/>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p2"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="⊤⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒⊥∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬S1(1)=1"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(P1ToS1(2)≠2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P1ToS1'⦂ℙ(ℤ×ℤ)·P1ToS1'∈1 ‥ 2 → {0,1,2}∧destination=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2∧¬S1(1)=1∧¬S1(2)=1"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1ToS1(1)=0"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬P1ToS1(2)=2"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P1ToS2'∈1 ‥ 2 → {0,1,2}∧destination=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2∧S1(1)≠1∧S1(2)≠1"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="1∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬P1ToS1(1)=0"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒P1ToS1(1)=0∧¬P1ToS1(2)=2∧¬S1(1)=1∧¬S1(2)=1"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="2∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬S1(2)=1"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="destination=3"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1ToS2'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬⊤"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/act3/FIS" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧P1ToS1(2)≠2∧S1(1)≠1∧S1(2)≠1">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(P1ToS1(2)≠2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠1⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=3⇒P1ToS1(1)=0∧¬P1ToS1(2)=2∧¬S1(1)=1∧¬S1(2)=1">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P1/grd5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p26">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=3" org.eventb.core.prHyps="p26">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p30"/>
                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p10,p24"/>
                                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="p22,p14,p8,p13,p17,p7,p4,p11,p6,p12,p5,p9,p16,p19,p1,p20,p3,p10,p15,p18,p2,p23,p24,p26">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p31">
                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p16"/>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p32">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p33">
                                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
                                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=3" org.eventb.core.prHyps="p26">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p29"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p30"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p10,p24"/>
                                                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p22,p14,p8,p13,p17,p7,p4,p11,p6,p12,p5,p9,p16,p19,p1,p20,p3,p10,p15,p18,p2,p23,p24,p26,p33">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p36">
                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p37">
                                                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
                                                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=3" org.eventb.core.prHyps="p26">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p29"/>
                                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p30"/>
                                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p10,p24"/>
                                                                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                            <org.eventb.core.prAnte name="'">
                                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p22,p14,p8,p13,p17,p7,p4,p11,p6,p12,p5,p9,p16,p19,p1,p20,p3,p10,p15,p18,p2,p23,p24,p26,p33,p37">
                                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                                </org.eventb.core.prRule>
                                                                            </org.eventb.core.prAnte>
                                                                        </org.eventb.core.prRule>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p40">
                                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p4"/>
                                                            </org.eventb.core.prAnte>
                                                            <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p41">
                                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p42">
                                                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=3" org.eventb.core.prHyps="p26">
                                                                            <org.eventb.core.prAnte name="'">
                                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p29"/>
                                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p30"/>
                                                                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p10,p24"/>
                                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                                    <org.eventb.core.prAnte name="'">
                                                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p22,p14,p8,p13,p17,p7,p4,p11,p6,p12,p5,p9,p16,p19,p1,p20,p3,p10,p15,p18,p2,p23,p24,p26,p33,p37,p42">
                                                                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                                        </org.eventb.core.prRule>
                                                                                    </org.eventb.core.prAnte>
                                                                                </org.eventb.core.prRule>
                                                                            </org.eventb.core.prAnte>
                                                                        </org.eventb.core.prRule>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="2∈dom(S1)"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬S1(1)=1"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="P1ToS1(1)=0"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="1∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="1∈dom(S1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="2∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬S1(1)=1⇒2∈dom(S1)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="destination=3"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="destination=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ∧(P1ToP2(1)=0⇒2∈dom(P1ToP2))"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ∧(P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(P1ToS1(2)≠2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠1⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1)))"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="S1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="destination∈{2,3}"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬P1ToS1(2)=2"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="3=2⇒P1ToP2(1)=0∧¬P1ToP2(2)=2"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1(rame)=1"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="3∈{2,3}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="destination=2⇒P1ToP2(1)=0∧P1ToP2(2)≠2"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="P1ToS1(1)=0⇒2∈dom(P1ToS1)∧(¬P1ToS1(2)=2⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=1⇒2∈dom(S1)))"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/grd3/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2"/>
            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p3">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(P3)∧P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p22">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=1" org.eventb.core.prHyps="p22">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p25"/>
                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p17"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p21,p13,p8,p12,p16,p7,p4,p10,p6,p11,p5,p9,p14,p18,p1,p19,p2,p17,p15,p20,p3,p22">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p26">
                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p1"/>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p27">
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p28">
                                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=1" org.eventb.core.prHyps="p22">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p25"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p17"/>
                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p21,p13,p8,p12,p16,p7,p4,p10,p6,p11,p5,p9,p14,p18,p1,p19,p2,p17,p15,p20,p3,p22,p28">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="2∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="S1ToP3(2)=0"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ∧(S1ToP3(2)=0⇒1∈dom(S1ToP3))"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="1∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P3(rame)=2"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="destination=1"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="1∈{1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ∧(S1ToP3(2)=0⇒1∈dom(S1ToP3))"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="S1ToP3(2)=0⇒1∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="destination∈{1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/grd5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p26">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=2" org.eventb.core.prHyps="p26">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p30"/>
                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p18,p24"/>
                                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="p23,p14,p9,p13,p17,p8,p5,p11,p7,p12,p6,p10,p15,p20,p1,p21,p2,p18,p16,p22,p3,p4,p24,p26">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p31">
                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p6"/>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p32">
                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p33">
                                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
                                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=2" org.eventb.core.prHyps="p26">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p29"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p30"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p18,p24"/>
                                                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p23,p14,p9,p13,p17,p8,p5,p11,p7,p12,p6,p10,p15,p20,p1,p21,p2,p18,p16,p22,p3,p4,p24,p26,p33">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p36">
                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p37">
                                                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
                                                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=2" org.eventb.core.prHyps="p26">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p29"/>
                                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p30"/>
                                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p18,p24"/>
                                                                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                            <org.eventb.core.prAnte name="'">
                                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                                                <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p23,p14,p9,p13,p17,p8,p5,p11,p7,p12,p6,p10,p15,p20,p1,p21,p2,p18,p16,p22,p3,p4,p24,p26,p33,p37">
                                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                                </org.eventb.core.prRule>
                                                                            </org.eventb.core.prAnte>
                                                                        </org.eventb.core.prRule>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p40">
                                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p5"/>
                                                            </org.eventb.core.prAnte>
                                                            <org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p41">
                                                                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p42">
                                                                        <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=2" org.eventb.core.prHyps="p26">
                                                                            <org.eventb.core.prAnte name="'">
                                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p29"/>
                                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p24" org.eventb.core.prInfHyps="p30"/>
                                                                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p18,p24"/>
                                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                                    <org.eventb.core.prAnte name="'">
                                                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p23,p14,p9,p13,p17,p8,p5,p11,p7,p12,p6,p10,p15,p20,p1,p21,p2,p18,p16,p22,p3,p4,p24,p26,p33,p37,p42">
                                                                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                                        </org.eventb.core.prRule>
                                                                                    </org.eventb.core.prAnte>
                                                                                </org.eventb.core.prRule>
                                                                            </org.eventb.core.prAnte>
                                                                        </org.eventb.core.prRule>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p43" org.eventb.core.predicate="2∈dom(S1)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="2∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬P2ToP3(1)=1"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="2∈{1,2}"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="1∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P3(rame)=2"/>
        <org.eventb.core.prPred name="p39" org.eventb.core.predicate="1∈dom(S1)"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="2=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ∧(S1ToP3(2)=0⇒1∈dom(S1ToP3))"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="P2ToP3(2)=0"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1)))"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1)))"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p40" org.eventb.core.predicate="S1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬S1(1)=2"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬S1(1)=2⇒2∈dom(S1)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="destination=2"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="destination∈{1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))"/>
        <org.eventb.core.prPred name="p38" org.eventb.core.predicate="1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p25,p21,p18,p9,p12,p6,p4,p19,p17,p20,p5,p7,p10,p13,p1,p14,p2,p22,p11,p24,p3,p15,p26,p27,p28">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3(rame)=2"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P3{rame ↦ 0}∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="destination=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ∧(S1ToP3(2)=0⇒1∈dom(S1ToP3))"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="destination∈{1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p25,p21,p18,p9,p12,p6,p4,p19,p17,p20,p5,p7,p10,p13,p1,p14,p2,p22,p11,p24,p3,p15,p26,p27,p28">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3(rame)=2"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P3{rame ↦ 0})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="destination=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ∧(S1ToP3(2)=0⇒1∈dom(S1ToP3))"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="destination∈{1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p11"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧(destination=2⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 1})"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧destination=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(destination=2⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 1})"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧destination=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/inv12/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧(destination=2⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 1})">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊤∧destination=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="destination=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=2⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 1}">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧destination=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                        <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                        <org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p11"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧(destination=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ 1})"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(destination=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ 1})"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/inv16/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                <org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7,p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p10"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊤∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ 1}">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧(destination=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ 1})">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P2ToP4'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P2ToP4')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8">
                        <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="p9,p10">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p11" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p13"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p14"/>
                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16,p17,p18"/>
                                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19,p20,p21"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p22"/>
                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p23"/>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p3"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2ToP4'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2ToP4'∈1 ‥ 2 → {0,1,2}∧destination=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="2∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="⊤⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒⊥∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬P2ToP3(1)=1"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P2ToP3(2)=0"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬S1(2)=2"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="⊤⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬S1(1)=2"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬P2ToP3(2)=0"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="1∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P2ToP3'⦂ℙ(ℤ×ℤ)·P2ToP3'∈1 ‥ 2 → {0,1,2}∧destination=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="destination=2"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬⊤"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/act1/FIS" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/act3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="S1ToP4'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees S1ToP4')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
                        <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="p10,p11">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p12" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p13" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p13">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p14"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p15"/>
                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16,p17,p18"/>
                                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19,p20"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p21"/>
                                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p21"/>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p17">
                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ∧(S1ToP3(2)=0⇒1∈dom(S1ToP3))"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬S1ToP3(1)=1"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="⊤⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ∧(S1ToP3(2)=0⇒⊥)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="2∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="S1ToP3(2)=0"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="S1ToP4'∈1 ‥ 2 → {0,1,2}∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬S1ToP3(2)=0"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="S1ToP4'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀S1ToP3'⦂ℙ(ℤ×ℤ)·S1ToP3'∈1 ‥ 2 → {0,1,2}∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="1∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="destination=1"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="⊤⇒S1ToP3(2)=0∧¬S1ToP3(1)=1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P3/act3/FIS" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3"/>
                <org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧P2ToP3(1)≠1∧S1(1)≠2∧S1(2)≠2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(¬P2ToP3(1)=1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(¬S1(1)=2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧¬S1ToP3(1)=1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ∧(P2ToP3(2)=0⇒1∈dom(P2ToP3)∧(P2ToP3(1)≠1⇒1∈dom(S1)∧S1∈ℤ ⇸ ℤ∧(S1(1)≠2⇒2∈dom(S1))))">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=1⇒S1ToP3(2)=0∧S1ToP3(1)≠1">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=2⇒P2ToP3(2)=0∧¬P2ToP3(1)=1∧¬S1(1)=2∧¬S1(2)=2">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/grd3/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2"/>
            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p3">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(P2)∧P2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p22"/>
                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p23"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="p24">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=1" org.eventb.core.prHyps="p24">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p27"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p5"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p27"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p14,p11,p4,p10,p20,p6,p16,p8,p3,p9,p15,p7,p12,p17,p2,p18,p1,p5,p13,p19,p21,p24">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p28">
                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="p3"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="1∈{1,3}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="destination=1"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="P3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="Direction∈BOOL">
            <org.eventb.core.prIdent name="Direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P3(rame)=TRUE"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/grd5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p26">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p28">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=3" org.eventb.core.prHyps="p26">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p30"/>
                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p7,p6"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p29"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p30"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p28" org.eventb.core.prHyps="p16,p13,p5,p12,p22,p8,p18,p10,p3,p11,p17,p9,p14,p19,p2,p20,p1,p7,p15,p21,p23,p6,p4,p26">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p31">
                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p17"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination=1⇒P1ToP2(2)=FALSE"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="3=1⇒P1ToP2(2)=FALSE"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="1∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="destination=3"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="Direction∈BOOL">
            <org.eventb.core.prIdent name="Direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="3∈{1,3}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P3(rame)=TRUE"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p27"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p21,p17,p7,p25,p4,p10,p19,p15,p20,p9,p6,p22,p12,p2,p13,p1,p18,p23,p24,p14,p3,p16,p5,p11">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=1⇒P1ToP2(2)=FALSE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=3⇒P2ToP3(1)=FALSE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P3{rame ↦ FALSE}∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="Direction∈BOOL">
            <org.eventb.core.prIdent name="Direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P3(rame)=TRUE"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p27"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8,p21,p17,p7,p25,p4,p10,p19,p15,p20,p9,p6,p22,p12,p2,p13,p1,p18,p23,p24,p14,p3,p16,p5,p11">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="destination=1⇒P1ToP2(2)=FALSE"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=3⇒P2ToP3(1)=FALSE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P3{rame ↦ FALSE})"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="Direction∈BOOL">
            <org.eventb.core.prIdent name="Direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P3(rame)=TRUE"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p7"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧(destination=3⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 2})"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬P2(rame)=0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(destination=3⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 2})"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2(rame)≠0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv12/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="⊤∧destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧(destination=3⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 2})">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬P2(rame)=0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=3⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 2}">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2(rame)≠0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p5"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → BOOL∧(destination=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ TRUE})"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → BOOL∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(destination=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ TRUE})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv16/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p4"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p6"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p7"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → BOOL∧(destination=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ TRUE})">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → BOOL∧destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="Direction∈BOOL">
            <org.eventb.core.prIdent name="Direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → BOOL">
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ TRUE}">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P1ToP3'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P1ToP3')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
                        <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p6,p7">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p10"/>
                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=1" org.eventb.core.prHyps="p7">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p12" org.eventb.core.prInfHyps="p13"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p15"/>
                                                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p12,p14"/>
                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with P1ToP2={1 ↦ 0,2 ↦ 0}" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p11">
                                                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16">
                                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="">
                                                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
                                                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps=""/>
                                                                                    </org.eventb.core.prAnte>
                                                                                </org.eventb.core.prRule>
                                                                            </org.eventb.core.prAnte>
                                                                        </org.eventb.core.prRule>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p18">
                                        <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p2"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P1ToP2'⦂ℙ(ℤ×ℤ)·P1ToP2'∈1 ‥ 2 → {0,1,2}∧destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬P2(rame)=0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="1=3⇒P2ToP3={1 ↦ 0,2 ↦ 0}">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P1ToP2={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊤⇒P1ToP2={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="1∈{1,3}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="2∈dom({1 ↦ 0,2 ↦ 0})"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="destination=3⇒P2ToP3={1 ↦ 0,2 ↦ 0}">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=1"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=1⇒P1ToP2={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP3'∈1 ‥ 2 → {0,1,2}∧destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2(rame)≠0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/act1/FIS" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬P2(rame)=0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2(rame)≠0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/act3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P2ToP4'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P2ToP4')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
                        <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p6,p7">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p10"/>
                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=3" org.eventb.core.prHyps="p7">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p12" org.eventb.core.prInfHyps="p13"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p15"/>
                                                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p12,p14"/>
                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with P2ToP3={1 ↦ 0,2 ↦ 0}" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p11">
                                                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16">
                                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="">
                                                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
                                                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps=""/>
                                                                                    </org.eventb.core.prAnte>
                                                                                </org.eventb.core.prRule>
                                                                            </org.eventb.core.prAnte>
                                                                        </org.eventb.core.prRule>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p18">
                                        <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2ToP4'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="3=1⇒P1ToP2={1 ↦ 0,2 ↦ 0}">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P2ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊤⇒P2ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬P2(rame)=0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P2ToP3'⦂ℙ(ℤ×ℤ)·P2ToP3'∈1 ‥ 2 → {0,1,2}∧destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="1∈dom({1 ↦ 0,2 ↦ 0})"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP4'∈1 ‥ 2 → {0,1,2}∧destination=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="1∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="3∈{1,3}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=3⇒P2ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="destination=1⇒P1ToP2={1 ↦ 0,2 ↦ 0}">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=3"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2(rame)≠0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/act3/FIS" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬P2(rame)=0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2(rame)≠0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p22,p15,p8,p14,p18,p7,p3,p11,p5,p12,p4,p9,p16,p20,p1,p21,p2,p6,p10,p13,p19,p17,p24">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="destination=3⇒P2ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="destination=1⇒P1ToP2={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬P2(rame)=0"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2{rame ↦ 0}∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P2(rame)≠0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p22,p15,p8,p14,p18,p7,p3,p11,p5,p12,p4,p9,p16,p20,p1,p21,p2,p6,p10,p13,p19,p17,p24">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="destination=3⇒P2ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="destination=1⇒P1ToP2={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P2{rame ↦ 0})"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬P2(rame)=0"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P2(rame)≠0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_P2/inv10/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}∧destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=1⇒P1ToP2'={1 ↦ 1,2 ↦ P1ToP2(2)}">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}∧(destination=1⇒P1ToP2'={1 ↦ 1,2 ↦ P1ToP2(2)})">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬P2(rame)=0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="⊤∧destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2(rame)≠0">
            <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/grd3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p19">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p19" org.eventb.core.prHyps="p18,p12,p7,p11,p14,p6,p2,p9,p4,p10,p3,p8,p13,p16,p1,p17,p15,p5">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p20">
                <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p2"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(S1)∧S1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rame∈dom(S1)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="S1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="rame∈{1,2}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p22"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p23">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=1" org.eventb.core.prHyps="p23">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p26"/>
                                        <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p4"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="p14,p12,p3,p11,p20,p5,p17,p9,p2,p10,p15,p7,p13,p18,p1,p19,p16,p4,p21,p8,p6,p23">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p27">
                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p13"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="1∈{1,3}"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="P1ToS1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="destination=1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="2∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="P2(rame)=TRUE"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="rame∈{1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/grd5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p25">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=3" org.eventb.core.prHyps="p25">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p5,p4"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p28"/>
                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p29"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p16,p14,p3,p13,p22,p6,p19,p11,p2,p12,p17,p8,p15,p20,p1,p21,p18,p5,p23,p10,p7,p4,p9,p25">
                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p30">
                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="p1"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=1⇒P1ToS1(2)=FALSE"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="1∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="3=1⇒P1ToS1(2)=FALSE"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="destination=3"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P2(rame)=TRUE"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="destination=3⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="3∈{1,3}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="rame∈{1,2}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p22,p15,p6,p25,p3,p9,p20,p13,p21,p8,p5,p23,p10,p1,p11,p24,p16,p12,p18,p4,p2,p17,p19,p14">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=1⇒P1ToS1(2)=FALSE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P2(rame)=TRUE"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2{rame ↦ FALSE}∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="destination=3⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="destination=3⇒S1ToP3(1)=FALSE"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rame∈{1,2}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p7,p22,p15,p6,p25,p3,p9,p20,p13,p21,p8,p5,p23,p10,p1,p11,p24,p16,p12,p18,p4,p2,p17,p19,p14">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×BOOL)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="direction∈BOOL">
            <org.eventb.core.prIdent name="direction" org.eventb.core.type="BOOL"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=1⇒P1ToS1(2)=FALSE"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P2{rame ↦ FALSE})"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P1∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="S1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P2(rame)=TRUE"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="destination=3⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P2∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="destination=1⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ BOOL"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="destination=3⇒S1ToP3(1)=FALSE"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → BOOL"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="rame∈{1,2}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P3∈1 ‥ 4 → BOOL"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p7"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="S1(rame)≠0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧(destination=1⇒P1ToS1'={1 ↦ P1ToS1(1),2 ↦ 2})"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧destination=1⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧destination=1⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(destination=1⇒P1ToS1'={1 ↦ P1ToS1(1),2 ↦ 2})"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬S1(rame)=0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/inv14/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1(rame)≠0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="⊤∧destination=1⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧(destination=1⇒P1ToS1'={1 ↦ P1ToS1(1),2 ↦ 2})">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=1⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=1⇒P1ToS1'={1 ↦ P1ToS1(1),2 ↦ 2}">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧destination=1⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬S1(rame)=0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                        <org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p7"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="S1(rame)≠0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧destination=3⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(destination=3⇒S1ToP3'={1 ↦ 1,2 ↦ S1ToP3(2)})"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧(destination=3⇒S1ToP3'={1 ↦ 1,2 ↦ S1ToP3(2)})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧destination=3⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬S1(rame)=0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/inv16/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p6"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1(rame)≠0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧destination=3⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="destination=3⇒S1ToP3'={1 ↦ 1,2 ↦ S1ToP3(2)}">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧(destination=3⇒S1ToP3'={1 ↦ 1,2 ↦ S1ToP3(2)})">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=3⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="⊤∧destination=3⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬S1(rame)=0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P1ToS2'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P1ToS2')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
                        <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p6,p7">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p10"/>
                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=1" org.eventb.core.prHyps="p7">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p12" org.eventb.core.prInfHyps="p13"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p15"/>
                                                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p12,p14"/>
                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with P1ToS1={1 ↦ 0,2 ↦ 0}" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p11">
                                                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16">
                                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="">
                                                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
                                                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps=""/>
                                                                                    </org.eventb.core.prAnte>
                                                                                </org.eventb.core.prRule>
                                                                            </org.eventb.core.prAnte>
                                                                        </org.eventb.core.prRule>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p18">
                                        <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p2"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P1ToS1'⦂ℙ(ℤ×ℤ)·P1ToS1'∈1 ‥ 2 → {0,1,2}∧destination=1⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1(rame)≠0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="1∈dom({1 ↦ 0,2 ↦ 0})"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P1ToS1={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToS2'∈1 ‥ 2 → {0,1,2}∧destination=1⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="destination=3⇒S1ToP3={1 ↦ 0,2 ↦ 0}">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="1∈{1,3}"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="destination=1⇒P1ToS1={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="1∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=1"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="1=3⇒S1ToP3={1 ↦ 0,2 ↦ 0}">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToS2'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬S1(rame)=0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊤⇒P1ToS1={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/act1/FIS" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1(rame)≠0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬S1(rame)=0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/act3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="S1ToP4'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees S1ToP4')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p5">
                        <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p5" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="p6,p7">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p8" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p9">
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p10"/>
                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with destination=3" org.eventb.core.prHyps="p7">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p12" org.eventb.core.prInfHyps="p13"/>
                                                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p15"/>
                                                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p12,p14"/>
                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                                    <org.eventb.core.prAnte name="'">
                                                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p13"/>
                                                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p15"/>
                                                                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with S1ToP3={1 ↦ 0,2 ↦ 0}" org.eventb.core.prGoal="p9" org.eventb.core.prHyps="p11">
                                                                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16">
                                                                                <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="">
                                                                                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p17">
                                                                                        <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p17" org.eventb.core.prHyps=""/>
                                                                                    </org.eventb.core.prAnte>
                                                                                </org.eventb.core.prRule>
                                                                            </org.eventb.core.prAnte>
                                                                        </org.eventb.core.prRule>
                                                                    </org.eventb.core.prAnte>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p18">
                                        <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p1"/>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1(rame)≠0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="2∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="S1ToP4'∈1 ‥ 2 → {0,1,2}∧destination=3⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀S1ToP3'⦂ℙ(ℤ×ℤ)·S1ToP3'∈1 ‥ 2 → {0,1,2}∧destination=3⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="destination=3⇒S1ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="S1ToP4'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="3∈{1,3}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="destination=1⇒P1ToS1={1 ↦ 0,2 ↦ 0}">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="2∈dom({1 ↦ 0,2 ↦ 0})"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="3=1⇒P1ToS1={1 ↦ 0,2 ↦ 0}">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="destination=3"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬S1(rame)=0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="⊤⇒S1ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="S1ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/act3/FIS" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1(rame)≠0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="¬S1(rame)=0">
            <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/inv7/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p23,p17,p9,p16,p19,p8,p3,p13,p5,p14,p4,p10,p18,p21,p1,p22,p20,p6,p7,p11,p15,p12,p24">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="rame∈dom(S1)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="destination=3⇒S1ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="destination=1⇒P1ToS1={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1{rame ↦ 0}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬S1(rame)=0"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1(rame)≠0"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="S1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="rame∈{1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="exit_S1/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p23,p17,p9,p16,p19,p8,p3,p13,p5,p14,p4,p10,p18,p21,p1,p22,p20,p6,p7,p11,p15,p12,p24">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="destination" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="rame∈dom(S1)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="destination=3⇒S1ToP3={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="destination=1⇒P1ToS1={1 ↦ 0,2 ↦ 0}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(S1{rame ↦ 0})"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬S1(rame)=0"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1(rame)≠0"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="destination∈{1,3}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="S1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="rame∈{1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/grd2/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2"/>
            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p3">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(P1)∧P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/grd5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="p24">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p25" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=3" org.eventb.core.prHyps="p24">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p27"/>
                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p28"/>
                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p14,p4"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p27"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p28"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p23,p16,p10,p15,p19,p9,p5,p12,p8,p13,p7,p11,p18,p21,p1,p22,p3,p17,p20,p2,p14,p4,p6,p24">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p29">
                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p18"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="origin=3"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="origin=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="1∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1(rame)=0"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="origin=2⇒P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="3=2⇒P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="origin=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="origin∈{2,3}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="3∈{2,3}"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/grd6/WD"/>
    <org.eventb.core.prProof name="enter_P1/inv1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p25,p24,p19,p8,p11,p6,p3,p20,p18,p21,p5,p7,p10,p13,p1,p14,p2,p9,p12,p15,p22,p17,p4,p16,p23">
            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="origin=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1(rame)=0"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin=3⇒P1ToS1(1)=2"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="origin=2⇒P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1{rame ↦ 1}∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="origin∈{2,3}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="origin=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p25,p24,p19,p8,p11,p6,p3,p20,p18,p21,p5,p7,p10,p13,p1,p14,p2,p9,p12,p15,p22,p17,p4,p16,p23">
            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="origin=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1(rame)=0"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin=3⇒P1ToS1(1)=2"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="origin=2⇒P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P1{rame ↦ 1})"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="origin∈{2,3}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="origin=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/inv10/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p4"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤∧origin=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}∧(origin=2⇒P1ToP2'={1 ↦ 0,2 ↦ P1ToP2(2)})">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="origin=2⇒P1ToP2'={1 ↦ 0,2 ↦ P1ToP2(2)}">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}∧origin=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p5"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧origin=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧(origin=3⇒P1ToS1'={1 ↦ 0,2 ↦ P1ToS1(2)})"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧origin=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(origin=3⇒P1ToS1'={1 ↦ 0,2 ↦ P1ToS1(2)})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/inv14/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p4"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤∧origin=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧(origin=3⇒P1ToS1'={1 ↦ 0,2 ↦ P1ToS1(2)})">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="origin=3⇒P1ToS1'={1 ↦ 0,2 ↦ P1ToS1(2)}">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToS1'∈1 ‥ 2 → {0,1,2}∧origin=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToS1'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/act2/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P1ToS2'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P1ToS2')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
                <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p27,p28">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p31"/>
                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p32"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34,p35"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=3" org.eventb.core.prHyps="p28">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p36"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p37"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p22,p17"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p37"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="p25,p24,p19,p8,p11,p6,p3,p20,p18,p21,p5,p7,p10,p13,p1,p14,p2,p9,p12,p15,p22,p17,p4,p27,p28,p33,p34,p35">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p35">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p10"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="origin=3"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P1ToS1'⦂ℙ(ℤ×ℤ)·P1ToS1'∈1 ‥ 2 → {0,1,2}∧origin=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="origin=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="⊤⇒P1ToS1(1)=2"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="⊤⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="P1ToS1(1)=2"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="1∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1(rame)=0"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="2∈dom(P1ToS1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="P1ToS2'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin=3⇒P1ToS1(1)=2"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="origin=2⇒P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="3=2⇒P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="P1ToS2'∈1 ‥ 2 → {0,1,2}∧origin=3⇒2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToS2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="2∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="origin∈{2,3}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="origin=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="3∈{2,3}"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/act2/FIS"/>
    <org.eventb.core.prProof name="enter_P1/act3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P1ToP3'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P1ToP3')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26">
                <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="p27,p28">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p29" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p31"/>
                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="p28" org.eventb.core.prInfHyps="p32"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34,p35"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=2" org.eventb.core.prHyps="p28">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p22" org.eventb.core.prInfHyps="p36"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p37"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p22,p16"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p36"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p37"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="p25,p24,p19,p8,p11,p6,p3,p20,p18,p21,p5,p7,p10,p13,p1,p14,p2,p9,p12,p15,p22,p16,p23,p27,p28,p33,p34,p35">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p35">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="p18"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p36" org.eventb.core.predicate="2∈{2,3}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="origin=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="⊤⇒P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P1(rame)=0"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="P1ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p35" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="origin=2"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin=3⇒P1ToS1(1)=2"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="origin=2⇒P1ToP2(1)=2"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="P1ToP3'∈1 ‥ 2 → {0,1,2}∧origin=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p37" org.eventb.core.predicate="2=3⇒P1ToS1(1)=2"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P1ToP2'⦂ℙ(ℤ×ℤ)·P1ToP2'∈1 ‥ 2 → {0,1,2}∧origin=2⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="⊤⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="origin∈{2,3}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="origin=3⇒1∈dom(P1ToS1)∧P1ToS1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P1/act3/FIS"/>
    <org.eventb.core.prProof name="enter_P1/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p22">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p24">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=2" org.eventb.core.prHyps="p22">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p12" org.eventb.core.prInfHyps="p25"/>
                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p12"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p24" org.eventb.core.prHyps="p21,p14,p8,p13,p17,p7,p4,p10,p6,p11,p5,p9,p16,p19,p1,p20,p3,p15,p18,p2,p12,p22">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p26">
                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p6"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="2∈{2,3}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="origin=2⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1(rame)=0"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="rame∈dom(P1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P1∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="origin=2"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="origin∈{2,3}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p19">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=1" org.eventb.core.prHyps="p19">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p14" org.eventb.core.prInfHyps="p22"/>
                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p14"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p22"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p18,p12,p7,p11,p15,p6,p3,p9,p5,p10,p4,p8,p13,p16,p1,p17,p2,p14,p19">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p23">
                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p5"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="origin=1"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="1∈{1,3}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="origin=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="origin∈{1,3}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/grd5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p21">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=3" org.eventb.core.prHyps="p21">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p24"/>
                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p25"/>
                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p16,p7"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p20,p14,p8,p13,p17,p6,p3,p10,p5,p11,p4,p9,p15,p18,p1,p19,p2,p16,p7,p12,p21">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p26">
                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p4"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="origin=3"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="1∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="origin=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="origin=1⇒P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="origin=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="3∈{1,3}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="3=1⇒P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin∈{1,3}"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/inv10/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p4"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin=1⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}∧origin=1⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P1ToP2'∈1 ‥ 2 → {0,1,2}∧(origin=1⇒P1ToP2'={1 ↦ P1ToP2(1),2 ↦ 0})">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤∧origin=1⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="origin=1⇒P1ToP2'={1 ↦ P1ToP2(1),2 ↦ 0}">
            <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P1ToP2'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p5"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(origin=3⇒P2ToP3'={1 ↦ 0,2 ↦ P2ToP3(2)})"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧origin=3⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧(origin=3⇒P2ToP3'={1 ↦ 0,2 ↦ P2ToP3(2)})"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧origin=3⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/inv12/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p4"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤∧origin=3⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧(origin=3⇒P2ToP3'={1 ↦ 0,2 ↦ P2ToP3(2)})">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="origin=3⇒P2ToP3'={1 ↦ 0,2 ↦ P2ToP3(2)}">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧origin=3⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin=3⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P1ToP3'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P1ToP3')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p24,p25">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=1" org.eventb.core.prHyps="p25">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p33"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p34"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p18,p15"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p22,p16,p9,p14,p19,p6,p3,p11,p5,p12,p4,p8,p17,p20,p1,p21,p2,p18,p15,p10,p24,p25,p30,p31,p32">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p32">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="p5"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="origin=1"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="1∈{1,3}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="origin=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P1ToP3'∈1 ‥ 2 → {0,1,2}∧origin=1⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤⇒P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="P1ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="⊤⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="1∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="origin=1⇒P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="origin=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P1ToP2'⦂ℙ(ℤ×ℤ)·P1ToP2'∈1 ‥ 2 → {0,1,2}∧origin=1⇒1∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="origin=3⇒P2ToP3(1)=2"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="1=3⇒P2ToP3(1)=2"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="origin∈{1,3}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="2∈dom(P1ToP2)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/act1/FIS"/>
    <org.eventb.core.prProof name="enter_P2/act2/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P2ToP4'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P2ToP4')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p24,p25">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=3" org.eventb.core.prHyps="p25">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p33"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p34"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p18,p7"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p22,p16,p9,p14,p19,p6,p3,p11,p5,p12,p4,p8,p17,p20,p1,p21,p2,p18,p7,p13,p24,p25,p30,p31,p32">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p32">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="p4"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P2ToP3'⦂ℙ(ℤ×ℤ)·P2ToP3'∈1 ‥ 2 → {0,1,2}∧origin=3⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="origin=3"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="2∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="1∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="origin=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="⊤⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="P2ToP4'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="P2ToP3(1)=2"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤⇒P2ToP3(1)=2"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="origin=1⇒P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="origin=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="3∈{1,3}"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="3=1⇒P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P2ToP4'∈1 ‥ 2 → {0,1,2}∧origin=3⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="origin=3⇒P2ToP3(1)=2"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="origin∈{1,3}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/act2/FIS"/>
    <org.eventb.core.prProof name="enter_P2/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p28,p25,p18,p9,p11,p5,p3,p21,p15,p22,p4,p6,p10,p12,p1,p13,p2,p26,p27,p19,p23,p17,p8,p24,p20,p16,p14,p7">
            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="direction" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="origin=3⇒direction=2"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="origin=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="origin=1⇒direction=1"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2{rame ↦ direction}∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="direction∈{1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="origin=1⇒P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="origin=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="origin=3⇒P2ToP3(1)=2"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="origin∈{1,3}"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="P2(rame)=0"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P2/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p28,p25,p18,p9,p11,p5,p3,p21,p15,p22,p4,p6,p10,p12,p1,p13,p2,p26,p27,p19,p23,p17,p8,p24,p20,p16,p14,p7">
            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="direction" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="origin=3⇒direction=2"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="origin=1⇒2∈dom(P1ToP2)∧P1ToP2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="origin=1⇒direction=1"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="direction∈{1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="origin=1⇒P1ToP2(2)=1"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="origin=3⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="origin=3⇒P2ToP3(1)=2"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="origin∈{1,3}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P2{rame ↦ direction})"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="P2(rame)=0"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/grd4/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="p19">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p20" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=1" org.eventb.core.prHyps="p19">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p22"/>
                                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p4"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p22"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p18,p13,p8,p12,p15,p7,p3,p10,p6,p11,p5,p9,p14,p16,p1,p17,p2,p4,p19">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p23">
                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p1"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="1∈{1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="origin=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="origin=1"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="2∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="origin∈{1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/grd5/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="p21">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p22" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=2" org.eventb.core.prHyps="p21">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p24"/>
                                <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p15" org.eventb.core.prInfHyps="p25"/>
                                <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p5,p15"/>
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
                                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="p20,p14,p9,p13,p17,p8,p4,p11,p7,p12,p6,p10,p16,p18,p1,p19,p2,p5,p15,p3,p21">
                                            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                    <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p26">
                        <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p6"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="2∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="2∈{1,2}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="origin=2"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="origin=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin∈{1,2}"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="origin=1⇒S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="2=1⇒S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="origin=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p25,p21,p18,p9,p11,p7,p4,p19,p17,p20,p5,p8,p10,p13,p1,p14,p2,p16,p12,p23,p3,p22,p15,p6,p24">
            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="origin=2⇒P2ToP3(2)=1"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P3(rame)=0"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="origin=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin∈{1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P3{rame ↦ 2}∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="origin=1⇒S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="origin=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p25,p21,p18,p9,p11,p7,p4,p19,p17,p20,p5,p8,p10,p13,p1,p14,p2,p16,p12,p23,p3,p22,p15,p6,p24">
            <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="origin=2⇒P2ToP3(2)=1"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P3(rame)=0"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(P3{rame ↦ 2})"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="origin=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin∈{1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="origin=1⇒S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="origin=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p5"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧origin=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(origin=2⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 0})"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧origin=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧(origin=2⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 0})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/inv12/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p4"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤∧origin=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧origin=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="P2ToP3'∈1 ‥ 2 → {0,1,2}∧(origin=2⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 0})">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="origin=2⇒P2ToP3'={1 ↦ P2ToP3(1),2 ↦ 0}">
            <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="P2ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                        <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p4"/>
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p5"/>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧(origin=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ 0})"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="⊥"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="⊥∧(origin=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ 0})"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊥∧origin=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧origin=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/inv16/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'">
                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p4"/>
                        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'">
                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧(origin=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ 0})">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="origin=1⇒S1ToP3'={1 ↦ S1ToP3(1),2 ↦ 0}">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="⊤∧origin=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1ToP3'∈1 ‥ 2 → {0,1,2}∧origin=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="S1ToP3'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
            <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/act1/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="P2ToP4'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees P2ToP4')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p24,p25">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=2" org.eventb.core.prHyps="p25">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p33"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p34"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p5,p16"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p22,p15,p11,p14,p18,p9,p4,p12,p8,p13,p6,p10,p17,p19,p1,p20,p2,p5,p16,p3,p24,p25,p30,p31,p32">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p32">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="p6"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="2∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="⊤⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="origin=2⇒P2ToP3(2)=1"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="P2ToP3(2)=1"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="2∈{1,2}"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="1∈dom(P2ToP3)"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀P2ToP3'⦂ℙ(ℤ×ℤ)·P2ToP3'∈1 ‥ 2 → {0,1,2}∧origin=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="P2ToP4'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="origin=2"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤⇒P2ToP3(2)=1"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="origin=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin∈{1,2}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="P2ToP4'∈1 ‥ 2 → {0,1,2}∧origin=2⇒1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="P2ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin=1⇒S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="1∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="2=1⇒S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="origin=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/act1/FIS"/>
    <org.eventb.core.prProof name="enter_P3/act3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="S1ToP4'" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees S1ToP4')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
                <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
                    <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="p24,p25">
                        <org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p26" org.eventb.core.prHyps="">
                            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p27">
                                <org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
                                    <org.eventb.core.prAnte name="'">
                                        <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p28"/>
                                        <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p29"/>
                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                            <org.eventb.core.prAnte name="'">
                                                <org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
                                                <org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32"/>
                                                <org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with origin=1" org.eventb.core.prHyps="p25">
                                                    <org.eventb.core.prAnte name="'">
                                                        <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p33"/>
                                                        <org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p7" org.eventb.core.prInfHyps="p34"/>
                                                        <org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p5,p7"/>
                                                        <org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
                                                            <org.eventb.core.prAnte name="'">
                                                                <org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p33"/>
                                                                <org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p34"/>
                                                                <org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p27" org.eventb.core.prHyps="p22,p15,p11,p14,p18,p9,p4,p12,p8,p13,p6,p10,p17,p19,p1,p20,p2,p5,p7,p21,p24,p25,p30,p31,p32">
                                                                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                                                                </org.eventb.core.prRule>
                                                            </org.eventb.core.prAnte>
                                                        </org.eventb.core.prRule>
                                                    </org.eventb.core.prAnte>
                                                </org.eventb.core.prRule>
                                            </org.eventb.core.prAnte>
                                        </org.eventb.core.prRule>
                                    </org.eventb.core.prAnte>
                                </org.eventb.core.prRule>
                            </org.eventb.core.prAnte>
                            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p32">
                                <org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="p1"/>
                            </org.eventb.core.prAnte>
                        </org.eventb.core.prRule>
                    </org.eventb.core.prAnte>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="origin" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈{1,2,3,4}"/>
        <org.eventb.core.prPred name="p25" org.eventb.core.predicate="origin=1"/>
        <org.eventb.core.prPred name="p34" org.eventb.core.predicate="1=2⇒P2ToP3(2)=1"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p31" org.eventb.core.predicate="2∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="origin=2⇒P2ToP3(2)=1"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀S1ToP3'⦂ℙ(ℤ×ℤ)·S1ToP3'∈1 ‥ 2 → {0,1,2}∧origin=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p26" org.eventb.core.predicate="1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p24" org.eventb.core.predicate="S1ToP4'∈1 ‥ 2 → {0,1,2}">
            <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p27" org.eventb.core.predicate="1∈dom(S1ToP3)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p29" org.eventb.core.predicate="⊤⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p33" org.eventb.core.predicate="1∈{1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="origin=1⇒2∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p30" org.eventb.core.predicate="S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="origin∈{1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p32" org.eventb.core.predicate="S1ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p28" org.eventb.core.predicate="⊤⇒S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="origin=1⇒S1ToP3(2)=1"/>
        <org.eventb.core.prPred name="p21" org.eventb.core.predicate="origin=2⇒2∈dom(P2ToP3)∧P2ToP3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p22" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p23" org.eventb.core.predicate="S1ToP4'∈1 ‥ 2 → {0,1,2}∧origin=1⇒1∈dom(S1ToP3)∧S1ToP3∈ℤ ⇸ ℤ">
            <org.eventb.core.prIdent name="S1ToP4'" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        </org.eventb.core.prPred>
        <org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
        <org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
        <org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
        <org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
        <org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/act3/FIS"/>
    <org.eventb.core.prProof name="enter_P2/grd3/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2"/>
            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p3">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(P2)∧P2∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈dom(P2)"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movrightP1ToP2/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 0,1 ↦ 1})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movrightP1ToS1/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with P1ToS1={1 ↦ 1,1 ↦ 0}" org.eventb.core.prHyps="p6">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p18"/>
                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p13"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p17,p12,p7,p11,p14,p5,p2,p9,p4,p10,p3,p8,p13,p15,p1,p16,p6,p18">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="{1 ↦ 1,1 ↦ 0}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P1ToS1={1 ↦ 1,1 ↦ 0}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="{1 ↦ 0,1 ↦ 1}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movrightP1ToS1/inv14/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 0,1 ↦ 1})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movrightP2ToP3/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with P2ToP3={1 ↦ 1,1 ↦ 0}" org.eventb.core.prHyps="p2">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p4" org.eventb.core.prInfHyps="p18"/>
                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p4"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p17,p12,p7,p11,p14,p6,p3,p9,p5,p10,p4,p8,p13,p15,p1,p16,p2,p18">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="P2ToP3={1 ↦ 1,1 ↦ 0}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="{1 ↦ 1,1 ↦ 0}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="{1 ↦ 0,1 ↦ 1}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movrightP2ToP3/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 0,1 ↦ 1})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movrightS1ToP3/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with S1ToP3={1 ↦ 1,1 ↦ 0}" org.eventb.core.prHyps="p17">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p18"/>
                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p1"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p16,p11,p6,p10,p13,p5,p2,p8,p4,p9,p3,p7,p12,p14,p1,p15,p17,p18">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="{1 ↦ 1,1 ↦ 0}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="{1 ↦ 0,1 ↦ 1}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="S1ToP3={1 ↦ 1,1 ↦ 0}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movrightS1ToP3/inv16/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 0,1 ↦ 1})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movleftP1ToP2/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 2,1 ↦ 0})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movleftP1ToS1/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with P1ToS1={1 ↦ 0,1 ↦ 2}" org.eventb.core.prHyps="p4">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p18"/>
                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p13"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p17,p12,p7,p11,p14,p6,p2,p9,p5,p10,p3,p8,p13,p15,p1,p16,p4,p18">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="{1 ↦ 0,1 ↦ 2}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToS1={1 ↦ 0,1 ↦ 2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="{1 ↦ 2,1 ↦ 0}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movleftP1ToS1/inv14/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 2,1 ↦ 0})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movleftP2ToP3/inv11/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with P2ToP3={1 ↦ 0,1 ↦ 2}" org.eventb.core.prHyps="p17">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p18"/>
                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p3"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p16,p11,p6,p10,p13,p5,p2,p8,p4,p9,p3,p7,p12,p14,p1,p15,p17,p18">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="{1 ↦ 0,1 ↦ 2}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="{1 ↦ 2,1 ↦ 0}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P2ToP3={1 ↦ 0,1 ↦ 2}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movleftP2ToP3/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 2,1 ↦ 0})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movleftS1ToP3/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with S1ToP3={1 ↦ 0,1 ↦ 2}" org.eventb.core.prHyps="p16">
            <org.eventb.core.prAnte name="'">
                <org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p18"/>
                <org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p1"/>
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p17,p11,p6,p10,p13,p5,p2,p8,p4,p9,p3,p7,p12,p14,p1,p15,p16,p18">
                    <org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
                </org.eventb.core.prRule>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToP2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P1ToS1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P2ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="S1ToP3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="S1ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p18" org.eventb.core.predicate="{1 ↦ 0,1 ↦ 2}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="S1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P2ToP3∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p4" org.eventb.core.predicate="P1ToP2∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p5" org.eventb.core.predicate="finite(P3)"/>
        <org.eventb.core.prPred name="p6" org.eventb.core.predicate="P2∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(P2ToP3)"/>
        <org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(S1)"/>
        <org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(P1ToP2)"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="{1 ↦ 2,1 ↦ 0}∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p10" org.eventb.core.predicate="finite(P2)"/>
        <org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(P1)"/>
        <org.eventb.core.prPred name="p12" org.eventb.core.predicate="P1ToS1∈1 ‥ 2 → {0,1,2}"/>
        <org.eventb.core.prPred name="p13" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(P1ToS1)"/>
        <org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(S1ToP3)"/>
        <org.eventb.core.prPred name="p16" org.eventb.core.predicate="S1ToP3={1 ↦ 0,1 ↦ 2}"/>
        <org.eventb.core.prPred name="p17" org.eventb.core.predicate="P1∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="movleftS1ToP3/inv16/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p1" org.eventb.core.prHyps=""/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="⊤"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite({1 ↦ 2,1 ↦ 0})"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
    </org.eventb.core.prProof>
    <org.eventb.core.prProof name="enter_P3/grd3/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
        <org.eventb.core.lang name="L"/>
        <org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
            <org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p2"/>
            <org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p3">
                <org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p3" org.eventb.core.prHyps="p1"/>
            </org.eventb.core.prAnte>
        </org.eventb.core.prRule>
        <org.eventb.core.prIdent name="P3" org.eventb.core.type="ℙ(ℤ×ℤ)"/>
        <org.eventb.core.prIdent name="rame" org.eventb.core.type="ℤ"/>
        <org.eventb.core.prPred name="p3" org.eventb.core.predicate="P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p1" org.eventb.core.predicate="P3∈1 ‥ 4 → {0,1,2}"/>
        <org.eventb.core.prPred name="p0" org.eventb.core.predicate="rame∈dom(P3)∧P3∈ℤ ⇸ ℤ"/>
        <org.eventb.core.prPred name="p2" org.eventb.core.predicate="rame∈dom(P3)"/>
        <org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
        <org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
    </org.eventb.core.prProof>
</org.eventb.core.prFile>
