<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.machineFile org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.core.generated="false" org.eventb.texttools.text_lastmodified="1682195183910" org.eventb.texttools.text_representation="machine ProjetGroupeR2 refines ProjetGroupeR1  sees ProjetGroupeC2&#10;&#10;variables P1 P2 P3 S1 P1ToP2 P2ToP3 P1ToS1 S1ToP3 P1A P2A P3A S1A P1F P2F P3F S1F P1FS P2FS P3FS S1FS updated1 updated2 updated3 updated4 updated5 updated6&#10;&#10;invariants&#10;  @inv25 P1F ∈ 5‥8 → trafficLights&#10;  @inv26 P2F ∈ 1‥8 → trafficLights&#10;  @inv27 P3F ∈ 1‥4 → trafficLights&#10;  @inv28 S1F ∈ 1‥4 → trafficLights&#10;  @inv29 P1FS ∈ 2‥2 → trafficLights&#10;  @inv30 P2FS ∈ 1‥2 → trafficLights&#10;  @inv31 P3FS ∈ 1‥1 → trafficLights&#10;  @inv32 S1FS ∈ 1‥2 → trafficLights&#10;  @inv33 updated1 ∈ BOOL&#10;  @inv34 updated2 ∈ BOOL&#10;  @inv35 updated3 ∈ BOOL&#10;  @inv36 updated4 ∈ BOOL&#10;  @inv37 updated5 ∈ BOOL&#10;  @inv38 updated6 ∈ BOOL&#10;&#10;events&#10;  event INITIALISATION extends INITIALISATION&#10;    then&#10;      @act13 P1F ≔ 5‥8 × {rouge}&#10;      @act14 P2F ≔ 1‥8 × {rouge}&#10;      @act15 P3F ≔ 1‥4 × {rouge}&#10;      @act16 S1F ≔ 1‥4 × {rouge}&#10;      @act17 P1FS ≔  {2↦rouge}&#10;      @act18 P2FS ≔  1‥2 × {rouge}&#10;      @act19 P3FS ≔  {1↦rouge}&#10;      @act20 S1FS ≔  1‥2 × {rouge}&#10;      @act21 updated1 ≔ FALSE&#10;      @act22 updated2 ≔ FALSE&#10;      @act23 updated3 ≔ FALSE&#10;      @act24 updated4 ≔ FALSE&#10;      @act25 updated5 ≔ FALSE&#10;      @act26 updated6 ≔ FALSE&#10;  end&#10;&#10;  event exit_P1 extends exit_P1&#10;    where&#10;      @grd14 P1FS(2) = vert&#10;    then&#10;      @act4 P1FS(2) ≔  rouge&#10;      @act5 P2FS :∣ (P2FS' ∈ 1‥2 →   trafficLights) ∧&#10;            (destination = 2 ⇒ (P2FS'(1) = rouge ∧ P2FS'(2) = P2FS(2)))∧&#10;            (destination ≠ 2 ⇒  P2FS' = P2FS)&#10;      @act6 S1FS :∣ (S1FS' ∈ 1‥2 →   trafficLights) ∧&#10;            (destination = 3 ⇒ (S1FS'(1) = rouge ∧ S1FS'(2) = S1FS(2)))∧&#10;            (destination ≠ 3 ⇒  S1FS' = S1FS)&#10;      @act7 P1F(rame + 4) ≔ vert&#10;  end&#10;&#10;  event exit_P2 extends exit_P2&#10;    where&#10;      @grd14 destination = 1 ⇒  P2FS(1) = vert&#10;      @grd15 destination = 3 ⇒  P2FS(2) = vert&#10;    then&#10;      @act4 P2FS:∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (destination = 1 ⇒ P2FS' = {1 ↦ rouge, 2 ↦ P2FS(2)}) ∧ (destination = 3 ⇒ P2FS' = {1 ↦ P2FS(1), 2 ↦ rouge})&#10;      @act5 P1FS:∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (destination = 1 ⇒ P1FS' = {2 ↦ rouge}) ∧ (destination = 3 ⇒ P1FS' = P1FS)&#10;      @act6 P3FS:∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (destination = 3 ⇒ P3FS' = {1 ↦ rouge}) ∧ (destination = 1 ⇒ P3FS' = P3FS)&#10;      @act7 P2F ≔ P2F  {rame ↦ vert, rame+4 ↦ vert}&#10;&#10;  end&#10;&#10;  event exit_P3 extends exit_P3&#10;    where&#10;      @grd14 P3FS(1) = vert&#10;    then&#10;      @act4 P3FS(1) ≔  rouge&#10;      @act5 P2FS:∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (destination = 2 ⇒ P2FS' = {1 ↦ rouge, 2 ↦ P2FS(2)}) ∧ (destination = 1 ⇒ P2FS' = P2FS)&#10;      @act6 S1FS:∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (destination = 1 ⇒ S1FS' = {1 ↦ S1FS(1), 2 ↦ rouge}) ∧ (destination = 2 ⇒ S1FS' = S1FS)&#10;      @act7 P3F(rame) ≔ vert&#10;  end&#10;&#10;  event exit_S1 extends exit_S1&#10;    where&#10;      @grd10 destination = 1 ⇒  S1FS(1) = vert&#10;      @grd11 destination = 3 ⇒  S1FS(2) = vert&#10;    then&#10;      @act4 S1FS:∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (destination = 1 ⇒ S1FS' = {1 ↦ rouge, 2 ↦ S1FS(2)}) ∧ (destination = 3 ⇒ S1FS' = {1 ↦ S1FS(1), 2 ↦ rouge})&#10;      @act5 P1FS:∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (destination = 1 ⇒ P1FS' = {2 ↦ rouge}) ∧ (destination = 3 ⇒ P1FS' = P1FS)&#10;      @act6 P3FS:∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (destination = 3 ⇒ P3FS' = {1 ↦ rouge}) ∧ (destination = 1 ⇒ P3FS' = P3FS)&#10;      @act7 S1F ≔ S1F  {rame ↦ vert, rame+2 ↦ vert}&#10;  end&#10;&#10;  event enter_P1 extends enter_P1&#10;    where&#10;      @grd14 P1F(rame + 4 ) = vert&#10;    then&#10;      @act4 P2FS :∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (origin = 2 ⇒  P2FS' = {1 ↦ vert, 2 ↦ P2FS(2)}) ∧ (origin ≠ 2 ⇒  P2FS' = P2FS)&#10;      @act5 S1FS :∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (origin = 3 ⇒  S1FS' = {1 ↦ vert, 2 ↦ S1FS(2)}) ∧ (origin ≠ 3 ⇒  S1FS' = S1FS)&#10;      @act6 P1F(rame + 4) ≔  rouge&#10;      @act7 P1FS(2) ≔ vert&#10;  end&#10;&#10;  event enter_P2 extends enter_P2&#10;    where&#10;      @grd17 P2F(rame) = vert&#10;      @grd18 P2F(rame + 4) = vert&#10;    then&#10;      @act4 P2F ≔ P2F  {rame ↦ rouge, rame+4 ↦ rouge}&#10;      @act5 P1FS :∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (origin = 1 ⇒  P1FS'(2) = vert) ∧ (origin ≠ 1 ⇒  P1FS' = P1FS)&#10;      @act6 P3FS :∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (origin = 3 ⇒  P3FS'(1) = vert) ∧ (origin ≠ 3 ⇒  P3FS' = P3FS)&#10;      @act7 P2FS :∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (origin = 1 ⇒ P2FS'(1) = vert) ∧ (origin = 3 ⇒  P2FS'(2) = vert)&#10;  end&#10;&#10;  event enter_P3 extends enter_P3&#10;    where&#10;      @grd14 P3F(rame) = vert&#10;    then&#10;      @act4 P3F(rame) ≔  rouge&#10;      @act5 P2FS :∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (origin = 2 ⇒  P2FS' = {1 ↦ P2FS(1), 2 ↦ vert}) ∧ (origin ≠ 2 ⇒  P2FS' = P2FS)&#10;      @act6 S1FS :∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (origin = 1 ⇒  S1FS' = {1 ↦ S1FS(1), 2 ↦ vert}) ∧ (origin ≠ 1 ⇒  S1FS' = S1FS)&#10;      @act7 P3FS(1) ≔ vert&#10;  end&#10;&#10;  event enter_S1 extends enter_S1&#10;    where&#10;      @grd13 S1F(rame) = vert&#10;      @grd14 S1F(rame + 2) = vert&#10;    then&#10;      @act4 S1F ≔ S1F  {rame ↦ rouge, rame+2 ↦ rouge}&#10;      @act5 P1FS :∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (origin = 1 ⇒  P1FS'(2) = vert) ∧ (origin ≠ 1 ⇒  P1FS' = P1FS)&#10;      @act6 P3FS :∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (origin = 3 ⇒  P3FS'(1) = vert) ∧ (origin ≠ 3 ⇒  P3FS' = P3FS)&#10;      @act7 S1FS :∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (origin = 1 ⇒ S1FS'(1) = vert) ∧ (origin = 3 ⇒  S1FS'(2) = vert)&#10;  end&#10;&#10;  event movrightP1ToP2 extends movrightP1ToP2&#10;  end&#10;&#10;  event movrightP1ToS1 extends movrightP1ToS1&#10;  end&#10;&#10;  event movrightP2ToP3 extends movrightP2ToP3&#10;  end&#10;&#10;  event movrightS1ToP3 extends movrightS1ToP3&#10;  end&#10;&#10;  event movleftP1ToP2 extends movleftP1ToP2&#10;  end&#10;&#10;  event movleftP1ToS1 extends movleftP1ToS1&#10;  end&#10;&#10;  event movleftP2ToP3 extends movleftP2ToP3&#10;  end&#10;&#10;  event movleftS1ToP3 extends movleftS1ToP3&#10;  end&#10;&#10;  event modifyAiguillage0 extends modifyAiguillage0&#10;    then&#10;      @act2 P3FS:∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (sens = droite ∧ P2ToP3(1) = 0 ∧ P2ToP3(2) = 0 ⇒ P3FS' = {1 ↦ vert}) ∧&#10;            (sens = droite ∧ (P2ToP3(1) ≠ 0 ∨ P2ToP3(2) ≠ 0) ⇒ P3FS' = {1 ↦ rouge})  ∧&#10;            (sens = gauche ∧ S1ToP3(1) = 0 ∧ S1ToP3(2) = 0 ⇒ P3FS' = {1 ↦ vert}) ∧&#10;            (sens = gauche ∧ (S1ToP3(1) ≠ 0 ∨ S1ToP3(2) ≠ 0) ⇒ P3FS' = {1 ↦ rouge})&#10;  end&#10;&#10;  event modifyAiguillage1 extends modifyAiguillage1&#10;  end&#10;&#10;  event modifyAiguillage2 extends modifyAiguillage2&#10;  end&#10;&#10;  event modifyAiguillage3 extends modifyAiguillage3&#10;  end&#10;&#10;  event modifyAiguillage4 extends modifyAiguillage4&#10;  end&#10;&#10;  event modifyAiguillage5 extends modifyAiguillage5&#10;  end&#10;&#10;  event modifyAiguillage6 extends modifyAiguillage6&#10;  end&#10;&#10;  event modifyAiguillage7 extends modifyAiguillage7&#10;    then&#10;      @act2 P1FS:∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (sens = droite ∧ P1ToP2(1) = 0 ∧ P1ToP2(2) = 0 ⇒ P1FS' = {2 ↦ vert}) ∧&#10;            (sens = droite ∧ (P1ToP2(1) ≠ 0 ∨ P1ToP2(2) ≠ 0) ⇒ P1FS' = {2 ↦ rouge})  ∧&#10;            (sens = gauche ∧ P1ToS1(1) = 0 ∧ P1ToS1(2) = 0 ⇒ P1FS' = {2 ↦ vert}) ∧&#10;            (sens = gauche ∧ (P1ToS1(1) ≠ 0 ∨ P1ToS1(2) ≠ 0) ⇒ P1FS' = {2 ↦ rouge})&#10;  end&#10;&#10;  event updateFeuxEntreeP1&#10;    where&#10;      @grd1 updated1 = FALSE&#10;    then&#10;      @act1 P1F :∣ (P1F' ∈ 5‥8 → trafficLights) ∧&#10;            (P1(1) = 0 ⇒ P1F'(5) = vert) ∧ (P1(1) ≠ 0 ⇒ P1F'(5) = rouge)&#10;            ∧ (P1(2) = 0 ⇒ P1F'(6) = vert) ∧ (P1(2) ≠ 0 ⇒ P1F'(6) = rouge)&#10;            ∧ (P1(3) = 0 ⇒ P1F'(7) = vert) ∧ (P1(3) ≠ 0 ⇒ P1F'(7) = rouge)&#10;            ∧ (P1(4) = 0 ⇒ P1F'(8) = vert) ∧ (P1(4) ≠ 0 ⇒ P1F'(8) = rouge)&#10;      @act2 updated1 ≔ TRUE&#10;  end&#10;&#10;  event updateFeuxEntreeP2&#10;    where&#10;      @grd1 updated2 = FALSE&#10;    then&#10;      @act1 P2F :∣ (P2F' ∈ 1‥8 → trafficLights) ∧&#10;            (P2(1) = 0 ⇒ P2F'(5) = vert) ∧ (P2(1) ≠ 0 ⇒ P2F'(5) = rouge)&#10;            ∧ (P2(2) = 0 ⇒ P2F'(6) = vert) ∧ (P2(2) ≠ 0 ⇒ P2F'(6) = rouge)&#10;            ∧ (P2(3) = 0 ⇒ P2F'(7) = vert) ∧ (P2(3) ≠ 0 ⇒ P2F'(7) = rouge)&#10;            ∧ (P2(4) = 0 ⇒ P2F'(8) = vert) ∧ (P2(4) ≠ 0 ⇒ P2F'(8) = rouge)&#10;            ∧(P2(1) = 0 ⇒ P2F'(1) = vert) ∧ (P2(1) ≠ 0 ⇒ P2F'(1) = rouge)&#10;            ∧ (P2(2) = 0 ⇒ P2F'(2) = vert) ∧ (P2(2) ≠ 0 ⇒ P2F'(2) = rouge)&#10;            ∧ (P2(3) = 0 ⇒ P2F'(3) = vert) ∧ (P2(3) ≠ 0 ⇒ P2F'(3) = rouge)&#10;            ∧ (P2(4) = 0 ⇒ P2F'(4) = vert) ∧ (P2(4) ≠ 0 ⇒ P2F'(4) = rouge)&#10;      @act2 updated2 ≔ TRUE&#10;  end&#10;&#10;  event updateFeuxEntreeP3&#10;    where&#10;      @grd1 updated3 = FALSE&#10;    then&#10;      @act1 P3F :∣ (P3F' ∈ 1‥4 → trafficLights)&#10;            ∧(P3(1) = 0 ⇒ P3F'(1) = vert) ∧ (P3(1) ≠ 0 ⇒ P3F'(1) = rouge)&#10;            ∧ (P3(2) = 0 ⇒ P3F'(2) = vert) ∧ (P3(2) ≠ 0 ⇒ P3F'(2) = rouge)&#10;            ∧ (P3(3) = 0 ⇒ P3F'(3) = vert) ∧ (P3(3) ≠ 0 ⇒ P3F'(3) = rouge)&#10;            ∧ (P3(4) = 0 ⇒ P3F'(4) = vert) ∧ (P3(4) ≠ 0 ⇒ P3F'(4) = rouge)&#10;      @act2 updated3 ≔ TRUE&#10;  end&#10;&#10;  event updateFeuxEntreeS1&#10;    where&#10;      @grd1 updated4 = FALSE&#10;    then&#10;      @act1 S1F :∣ (S1F' ∈ 1‥4 → trafficLights)&#10;            ∧ (S1(1) = 0 ⇒ S1F'(1) = vert ∧ S1F'(3) = vert) ∧ (S1(1) ≠ 0 ⇒ S1F'(1) = rouge ∧ S1F'(3) = rouge)&#10;            ∧ (S1(2) = 0 ⇒ S1F'(2) = vert ∧ S1F'(4) = vert) ∧ (S1(2) ≠ 0 ⇒ S1F'(2) = rouge ∧ S1F'(4) = rouge)&#10;      @act2 updated4 ≔ TRUE&#10;  end&#10;&#10;  event updateFeuxSortieP2&#10;    where&#10;      @grd1 updated5 = FALSE&#10;    then&#10;      @act1 P2FS :∣ (P2FS' ∈ 1‥2 → trafficLights) ∧&#10;            ((P1ToP2(1) = 0 ∧ P1ToP2(2) = 0) ⇒ P2FS'(1) = vert) ∧&#10;            ((P2ToP3(1) = 0 ∧ P2ToP3(2) = 0) ⇒ P2FS'(2) = vert) ∧&#10;            ((P1ToP2(1) ≠ 0 ∨ P1ToP2(2) ≠ 0) ⇒ P2FS'(1) = rouge) ∧&#10;            ((P2ToP3(1) ≠ 0 ∨ P2ToP3(2) ≠ 0) ⇒ P2FS'(2) = rouge)&#10;      @act2 updated5 ≔  TRUE&#10;  end&#10;&#10;  event updateFeuxSortieS1&#10;    where&#10;      @grd1 updated6 = FALSE&#10;    then&#10;      @act1 S1FS :∣ (S1FS' ∈ 1‥2 → trafficLights) ∧&#10;            ((P1ToS1(1) = 0 ∧ P1ToS1(2) = 0) ⇒ S1FS'(1) = vert) ∧&#10;            ((S1ToP3(1) = 0 ∧ S1ToP3(2) = 0) ⇒ S1FS'(2) = vert) ∧&#10;            ((P1ToS1(1) ≠ 0 ∨ P1ToS1(2) ≠ 0) ⇒ S1FS'(1) = rouge) ∧&#10;            ((S1ToP3(1) ≠ 0 ∨ S1ToP3(2) ≠ 0) ⇒ S1FS'(2) = rouge)&#10;      @act2 updated6 ≔ TRUE&#10;  end&#10;end&#10;" version="5">
    <org.eventb.core.refinesMachine name="'" org.eventb.core.target="ProjetGroupeR1"/>
    <org.eventb.core.seesContext name="_TIzG8NxnEe2CPrJ6LuiP1g" org.eventb.core.target="ProjetGroupeC2"/>
    <org.eventb.core.variable name="(" org.eventb.core.generated="false" org.eventb.core.identifier="P1"/>
    <org.eventb.core.variable name="/" org.eventb.core.generated="false" org.eventb.core.identifier="P2"/>
    <org.eventb.core.variable name="1" org.eventb.core.generated="false" org.eventb.core.identifier="P3"/>
    <org.eventb.core.variable name="3" org.eventb.core.generated="false" org.eventb.core.identifier="S1"/>
    <org.eventb.core.variable name="5" org.eventb.core.generated="false" org.eventb.core.identifier="P1ToP2"/>
    <org.eventb.core.variable name="7" org.eventb.core.generated="false" org.eventb.core.identifier="P2ToP3"/>
    <org.eventb.core.variable name="9" org.eventb.core.generated="false" org.eventb.core.identifier="P1ToS1"/>
    <org.eventb.core.variable name=";" org.eventb.core.generated="false" org.eventb.core.identifier="S1ToP3"/>
    <org.eventb.core.variable name="_TI5NkNxnEe2CPrJ6LuiP1g" org.eventb.core.generated="false" org.eventb.core.identifier="P1A"/>
    <org.eventb.core.variable name="_TI5NkdxnEe2CPrJ6LuiP1g" org.eventb.core.generated="false" org.eventb.core.identifier="P2A"/>
    <org.eventb.core.variable name="_TI5NktxnEe2CPrJ6LuiP1g" org.eventb.core.generated="false" org.eventb.core.identifier="P3A"/>
    <org.eventb.core.variable name="_TI5Nk9xnEe2CPrJ6LuiP1g" org.eventb.core.generated="false" org.eventb.core.identifier="S1A"/>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1h" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="INITIALISATION">
        <org.eventb.core.action name="_xakpwN3PEe2db-10Gn96nw" org.eventb.core.assignment="P1F ≔ 5‥8 × {rouge}" org.eventb.core.generated="false" org.eventb.core.label="act13"/>
        <org.eventb.core.action name="_KM1-oN3SEe26d52Ym7aeaw" org.eventb.core.assignment="P2F ≔ 1‥8 × {rouge}" org.eventb.core.generated="false" org.eventb.core.label="act14"/>
        <org.eventb.core.action name="_V5ZsYN3SEe26d52Ym7aeaw" org.eventb.core.assignment="P3F ≔ 1‥4 × {rouge}" org.eventb.core.generated="false" org.eventb.core.label="act15"/>
        <org.eventb.core.action name="_V5cvsN3SEe26d52Ym7aeaw" org.eventb.core.assignment="S1F ≔ 1‥4 × {rouge}" org.eventb.core.generated="false" org.eventb.core.label="act16"/>
        <org.eventb.core.action name="_aRPScN6aEe21C40mRHpxCA" org.eventb.core.assignment="P1FS ≔  {2↦rouge}" org.eventb.core.generated="false" org.eventb.core.label="act17"/>
        <org.eventb.core.action name="_kfOwcN6aEe21C40mRHpxCA" org.eventb.core.assignment="P2FS ≔  1‥2 × {rouge}" org.eventb.core.generated="false" org.eventb.core.label="act18"/>
        <org.eventb.core.action name="_kfPXgN6aEe21C40mRHpxCA" org.eventb.core.assignment="P3FS ≔  {1↦rouge}" org.eventb.core.generated="false" org.eventb.core.label="act19"/>
        <org.eventb.core.action name="_kfPXgd6aEe21C40mRHpxCA" org.eventb.core.assignment="S1FS ≔  1‥2 × {rouge}" org.eventb.core.generated="false" org.eventb.core.label="act20"/>
        <org.eventb.core.action name="_M28msOA-Ee2sHe80PYiYmw" org.eventb.core.assignment="updated1 ≔ FALSE" org.eventb.core.generated="false" org.eventb.core.label="act21"/>
        <org.eventb.core.action name="_M29NwOA-Ee2sHe80PYiYmw" org.eventb.core.assignment="updated2 ≔ FALSE" org.eventb.core.generated="false" org.eventb.core.label="act22"/>
        <org.eventb.core.action name="_M29NweA-Ee2sHe80PYiYmw" org.eventb.core.assignment="updated3 ≔ FALSE" org.eventb.core.generated="false" org.eventb.core.label="act23"/>
        <org.eventb.core.action name="_M2900OA-Ee2sHe80PYiYmw" org.eventb.core.assignment="updated4 ≔ FALSE" org.eventb.core.generated="false" org.eventb.core.label="act24"/>
        <org.eventb.core.action name="_mXUzIOEOEe2sasslJeLr6A" org.eventb.core.assignment="updated5 ≔ FALSE" org.eventb.core.generated="false" org.eventb.core.label="act25"/>
        <org.eventb.core.action name="_mXUzIeEOEe2sasslJeLr6A" org.eventb.core.assignment="updated6 ≔ FALSE" org.eventb.core.generated="false" org.eventb.core.label="act26"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1i" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="exit_P1">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="exit_P1"/>
        <org.eventb.core.guard name="_C07gcN3TEe26d52Ym7aeaw" org.eventb.core.generated="false" org.eventb.core.label="grd14" org.eventb.core.predicate="P1FS(2) = vert"/>
        <org.eventb.core.action name="_lifVgN6gEe21C40mRHpxCA" org.eventb.core.assignment="P1FS(2) ≔  rouge" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.action name="_QVca4OEPEe2sasslJeLr6A" org.eventb.core.assignment="P2FS :∣ (P2FS' ∈ 1‥2 →   trafficLights) ∧&#10;            (destination = 2 ⇒ (P2FS'(1) = rouge ∧ P2FS'(2) = P2FS(2)))∧&#10;            (destination ≠ 2 ⇒  P2FS' = P2FS)" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.action name="_kDLJwOEPEe2sasslJeLr6A" org.eventb.core.assignment="S1FS :∣ (S1FS' ∈ 1‥2 →   trafficLights) ∧&#10;            (destination = 3 ⇒ (S1FS'(1) = rouge ∧ S1FS'(2) = S1FS(2)))∧&#10;            (destination ≠ 3 ⇒  S1FS' = S1FS)" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.action name="_R-sLcOEhEe2Vjb0ZtFAUdA" org.eventb.core.assignment="P1F(rame + 4) ≔ vert" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1j" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="exit_P2">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="exit_P2"/>
        <org.eventb.core.guard name="_C1NNQN3TEe26d52Ym7aeaw" org.eventb.core.generated="false" org.eventb.core.label="grd14" org.eventb.core.predicate="destination = 1 ⇒  P2FS(1) = vert"/>
        <org.eventb.core.guard name="_C1SFwN3TEe26d52Ym7aeaw" org.eventb.core.generated="false" org.eventb.core.label="grd15" org.eventb.core.predicate="destination = 3 ⇒  P2FS(2) = vert"/>
        <org.eventb.core.action name="_lif8kN6gEe21C40mRHpxCA" org.eventb.core.assignment="P2FS:∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (destination = 1 ⇒ P2FS' = {1 ↦ rouge, 2 ↦ P2FS(2)}) ∧ (destination = 3 ⇒ P2FS' = {1 ↦ P2FS(1), 2 ↦ rouge})" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.action name="_9jHH0OEPEe2sasslJeLr6A" org.eventb.core.assignment="P1FS:∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (destination = 1 ⇒ P1FS' = {2 ↦ rouge}) ∧ (destination = 3 ⇒ P1FS' = P1FS)" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.action name="_9jHH0eEPEe2sasslJeLr6A" org.eventb.core.assignment="P3FS:∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (destination = 3 ⇒ P3FS' = {1 ↦ rouge}) ∧ (destination = 1 ⇒ P3FS' = P3FS)" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.action name="_R-uAoOEhEe2Vjb0ZtFAUdA" org.eventb.core.assignment="P2F ≔ P2F  {rame ↦ vert, rame+4 ↦ vert}" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1k" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="exit_P3">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="exit_P3"/>
        <org.eventb.core.guard name="_77WZcN6WEe2AFfdxi2WJzg" org.eventb.core.generated="false" org.eventb.core.label="grd14" org.eventb.core.predicate="P3FS(1) = vert"/>
        <org.eventb.core.action name="_ligjoN6gEe21C40mRHpxCA" org.eventb.core.assignment="P3FS(1) ≔  rouge" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.action name="_9jIV8OEPEe2sasslJeLr6A" org.eventb.core.assignment="P2FS:∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (destination = 2 ⇒ P2FS' = {1 ↦ rouge, 2 ↦ P2FS(2)}) ∧ (destination = 1 ⇒ P2FS' = P2FS)" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.action name="_9jI9AOEPEe2sasslJeLr6A" org.eventb.core.assignment="S1FS:∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (destination = 1 ⇒ S1FS' = {1 ↦ S1FS(1), 2 ↦ rouge}) ∧ (destination = 2 ⇒ S1FS' = S1FS)" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.action name="_R-wc4OEhEe2Vjb0ZtFAUdA" org.eventb.core.assignment="P3F(rame) ≔ vert" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1l" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="exit_S1">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="exit_S1"/>
        <org.eventb.core.guard name="_T8xE8N3wEe2_AthA4dezXg" org.eventb.core.generated="false" org.eventb.core.label="grd10" org.eventb.core.predicate="destination = 1 ⇒  S1FS(1) = vert"/>
        <org.eventb.core.guard name="_T8xsAN3wEe2_AthA4dezXg" org.eventb.core.generated="false" org.eventb.core.label="grd11" org.eventb.core.predicate="destination = 3 ⇒  S1FS(2) = vert"/>
        <org.eventb.core.action name="_lihKsN6gEe21C40mRHpxCA" org.eventb.core.assignment="S1FS:∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (destination = 1 ⇒ S1FS' = {1 ↦ rouge, 2 ↦ S1FS(2)}) ∧ (destination = 3 ⇒ S1FS' = {1 ↦ S1FS(1), 2 ↦ rouge})" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.action name="_Pxb5cOEQEe2sasslJeLr6A" org.eventb.core.assignment="P1FS:∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (destination = 1 ⇒ P1FS' = {2 ↦ rouge}) ∧ (destination = 3 ⇒ P1FS' = P1FS)" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.action name="_PxcggOEQEe2sasslJeLr6A" org.eventb.core.assignment="P3FS:∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (destination = 3 ⇒ P3FS' = {1 ↦ rouge}) ∧ (destination = 1 ⇒ P3FS' = P3FS)" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.action name="_R-y5IOEhEe2Vjb0ZtFAUdA" org.eventb.core.assignment="S1F ≔ S1F  {rame ↦ vert, rame+2 ↦ vert}" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1m" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="enter_P1">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="enter_P1"/>
        <org.eventb.core.guard name="_xMzkYN6cEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="grd14" org.eventb.core.predicate="P1F(rame + 4 ) = vert"/>
        <org.eventb.core.action name="_lihxwN6gEe21C40mRHpxCA" org.eventb.core.assignment="P2FS :∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (origin = 2 ⇒  P2FS' = {1 ↦ vert, 2 ↦ P2FS(2)}) ∧ (origin ≠ 2 ⇒  P2FS' = P2FS)" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.action name="_XJFtYOEZEe2HPuUFJl39_w" org.eventb.core.assignment="S1FS :∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (origin = 3 ⇒  S1FS' = {1 ↦ vert, 2 ↦ S1FS(2)}) ∧ (origin ≠ 3 ⇒  S1FS' = S1FS)" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.action name="_XJFtYeEZEe2HPuUFJl39_w" org.eventb.core.assignment="P1F(rame + 4) ≔  rouge" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.action name="_06ccUOEkEe2BDKHeUm36zA" org.eventb.core.assignment="P1FS(2) ≔ vert" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1n" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="enter_P2">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="enter_P2"/>
        <org.eventb.core.guard name="_p_IK0N6eEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="grd17" org.eventb.core.predicate="P2F(rame) = vert"/>
        <org.eventb.core.action name="_UWDCMN6hEe21C40mRHpxCA" org.eventb.core.assignment="P2F ≔ P2F  {rame ↦ rouge, rame+4 ↦ rouge}" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.guard name="_Glqz0N6nEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="grd18" org.eventb.core.predicate="P2F(rame + 4) = vert"/>
        <org.eventb.core.action name="_XJHikOEZEe2HPuUFJl39_w" org.eventb.core.assignment="P1FS :∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (origin = 1 ⇒  P1FS'(2) = vert) ∧ (origin ≠ 1 ⇒  P1FS' = P1FS)" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.action name="_XJIJoOEZEe2HPuUFJl39_w" org.eventb.core.assignment="P3FS :∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (origin = 3 ⇒  P3FS'(1) = vert) ∧ (origin ≠ 3 ⇒  P3FS' = P3FS)" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.action name="_06dqcOEkEe2BDKHeUm36zA" org.eventb.core.assignment="P2FS :∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (origin = 1 ⇒ P2FS'(1) = vert) ∧ (origin = 3 ⇒  P2FS'(2) = vert)" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1o" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="enter_P3">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="enter_P3"/>
        <org.eventb.core.guard name="_p_Ix4N6eEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="grd14" org.eventb.core.predicate="P3F(rame) = vert"/>
        <org.eventb.core.action name="_jElTMN6hEe21C40mRHpxCA" org.eventb.core.assignment="P3F(rame) ≔  rouge" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.action name="_XJJ-0OEZEe2HPuUFJl39_w" org.eventb.core.assignment="P2FS :∣ (P2FS' ∈ 1‥2 → trafficLights) ∧ (origin = 2 ⇒  P2FS' = {1 ↦ P2FS(1), 2 ↦ vert}) ∧ (origin ≠ 2 ⇒  P2FS' = P2FS)" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.action name="_XJJ-0eEZEe2HPuUFJl39_w" org.eventb.core.assignment="S1FS :∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (origin = 1 ⇒  S1FS' = {1 ↦ S1FS(1), 2 ↦ vert}) ∧ (origin ≠ 1 ⇒  S1FS' = S1FS)" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.action name="_06e4kOEkEe2BDKHeUm36zA" org.eventb.core.assignment="P3FS(1) ≔ vert" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1p" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="enter_S1">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="enter_S1"/>
        <org.eventb.core.guard name="_p_JY8N6eEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="grd13" org.eventb.core.predicate="S1F(rame) = vert"/>
        <org.eventb.core.action name="_p_JY8N6eEe21C40mRHpxCB" org.eventb.core.assignment="S1F ≔ S1F  {rame ↦ rouge, rame+2 ↦ rouge}" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
        <org.eventb.core.action name="_XJMbEOEZEe2HPuUFJl39_w" org.eventb.core.assignment="P1FS :∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (origin = 1 ⇒  P1FS'(2) = vert) ∧ (origin ≠ 1 ⇒  P1FS' = P1FS)" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
        <org.eventb.core.action name="_XJMbEeEZEe2HPuUFJl39_w" org.eventb.core.assignment="P3FS :∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (origin = 3 ⇒  P3FS'(1) = vert) ∧ (origin ≠ 3 ⇒  P3FS' = P3FS)" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
        <org.eventb.core.guard name="_sKCFsOEbEe2HPuUFJl39_w" org.eventb.core.generated="false" org.eventb.core.label="grd14" org.eventb.core.predicate="S1F(rame + 2) = vert"/>
        <org.eventb.core.action name="_06gGsOEkEe2BDKHeUm36zA" org.eventb.core.assignment="S1FS :∣ (S1FS' ∈ 1‥2 → trafficLights) ∧ (origin = 1 ⇒ S1FS'(1) = vert) ∧ (origin = 3 ⇒  S1FS'(2) = vert)" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1q" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="movrightP1ToP2">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="movrightP1ToP2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1r" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="movrightP1ToS1">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="movrightP1ToS1"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1s" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="movrightP2ToP3">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="movrightP2ToP3"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1t" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="movrightS1ToP3">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="movrightS1ToP3"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1u" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="movleftP1ToP2">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="movleftP1ToP2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1v" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="movleftP1ToS1">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="movleftP1ToS1"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1w" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="movleftP2ToP3">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="movleftP2ToP3"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1x" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="movleftS1ToP3">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="movleftS1ToP3"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1y" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="modifyAiguillage0">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="modifyAiguillage0"/>
        <org.eventb.core.action name="_ioAkkN6kEe21C40mRHpxCA" org.eventb.core.assignment="P3FS:∣ (P3FS' ∈ 1‥1 → trafficLights) ∧ (sens = droite ∧ P2ToP3(1) = 0 ∧ P2ToP3(2) = 0 ⇒ P3FS' = {1 ↦ vert}) ∧&#10;            (sens = droite ∧ (P2ToP3(1) ≠ 0 ∨ P2ToP3(2) ≠ 0) ⇒ P3FS' = {1 ↦ rouge})  ∧&#10;            (sens = gauche ∧ S1ToP3(1) = 0 ∧ S1ToP3(2) = 0 ⇒ P3FS' = {1 ↦ vert}) ∧&#10;            (sens = gauche ∧ (S1ToP3(1) ≠ 0 ∨ S1ToP3(2) ≠ 0) ⇒ P3FS' = {1 ↦ rouge})" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1z" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="modifyAiguillage1">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="modifyAiguillage1"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1{" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="modifyAiguillage2">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="modifyAiguillage2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1|" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="modifyAiguillage3">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="modifyAiguillage3"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1}" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="modifyAiguillage4">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="modifyAiguillage4"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP1~" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="modifyAiguillage5">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="modifyAiguillage5"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP2'" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="modifyAiguillage6">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="modifyAiguillage6"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_TIzG8NxnEe2CPrJ6LuiP2(" org.eventb.core.convergence="0" org.eventb.core.extended="true" org.eventb.core.generated="false" org.eventb.core.label="modifyAiguillage7">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="modifyAiguillage7"/>
        <org.eventb.core.action name="_ioCZwN6kEe21C40mRHpxCA" org.eventb.core.assignment="P1FS:∣ (P1FS' ∈ 2‥2 → trafficLights) ∧ (sens = droite ∧ P1ToP2(1) = 0 ∧ P1ToP2(2) = 0 ⇒ P1FS' = {2 ↦ vert}) ∧&#10;            (sens = droite ∧ (P1ToP2(1) ≠ 0 ∨ P1ToP2(2) ≠ 0) ⇒ P1FS' = {2 ↦ rouge})  ∧&#10;            (sens = gauche ∧ P1ToS1(1) = 0 ∧ P1ToS1(2) = 0 ⇒ P1FS' = {2 ↦ vert}) ∧&#10;            (sens = gauche ∧ (P1ToS1(1) ≠ 0 ∨ P1ToS1(2) ≠ 0) ⇒ P1FS' = {2 ↦ rouge})" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
    </org.eventb.core.event>
    <org.eventb.core.invariant name="_qA7isd3PEe2db-10Gn96nw" org.eventb.core.generated="false" org.eventb.core.label="inv25" org.eventb.core.predicate="P1F ∈ 5‥8 → trafficLights"/>
    <org.eventb.core.invariant name="_KPUq4N3SEe26d52Ym7aeaw" org.eventb.core.generated="false" org.eventb.core.label="inv26" org.eventb.core.predicate="P2F ∈ 1‥8 → trafficLights"/>
    <org.eventb.core.invariant name="_KPaKcN3SEe26d52Ym7aeaw" org.eventb.core.generated="false" org.eventb.core.label="inv27" org.eventb.core.predicate="P3F ∈ 1‥4 → trafficLights"/>
    <org.eventb.core.invariant name="_KPd00N3SEe26d52Ym7aeaw" org.eventb.core.generated="false" org.eventb.core.label="inv28" org.eventb.core.predicate="S1F ∈ 1‥4 → trafficLights"/>
    <org.eventb.core.variable name="_wz720N3rEe2_AthA4dezXg" org.eventb.core.generated="false" org.eventb.core.identifier="P1F"/>
    <org.eventb.core.variable name="_wz720d3rEe2_AthA4dezXg" org.eventb.core.generated="false" org.eventb.core.identifier="P2F"/>
    <org.eventb.core.variable name="_wz8d4N3rEe2_AthA4dezXg" org.eventb.core.generated="false" org.eventb.core.identifier="P3F"/>
    <org.eventb.core.variable name="_wz8d4d3rEe2_AthA4dezXg" org.eventb.core.generated="false" org.eventb.core.identifier="S1F"/>
    <org.eventb.core.variable name="_ESYOcN6aEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.identifier="P1FS"/>
    <org.eventb.core.variable name="_ESY1gN6aEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.identifier="P2FS"/>
    <org.eventb.core.variable name="_ESZckN6aEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.identifier="P3FS"/>
    <org.eventb.core.variable name="_ESZckd6aEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.identifier="S1FS"/>
    <org.eventb.core.invariant name="_ESaDoN6aEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="inv29" org.eventb.core.predicate="P1FS ∈ 2‥2 → trafficLights"/>
    <org.eventb.core.invariant name="_kfiScN6aEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="inv30" org.eventb.core.predicate="P2FS ∈ 1‥2 → trafficLights"/>
    <org.eventb.core.invariant name="_kfi5gN6aEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="inv31" org.eventb.core.predicate="P3FS ∈ 1‥1 → trafficLights"/>
    <org.eventb.core.invariant name="_kfjgkN6aEe21C40mRHpxCA" org.eventb.core.generated="false" org.eventb.core.label="inv32" org.eventb.core.predicate="S1FS ∈ 1‥2 → trafficLights"/>
    <org.eventb.core.variable name="_M3O6kOA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.identifier="updated1"/>
    <org.eventb.core.variable name="_M3O6keA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.identifier="updated2"/>
    <org.eventb.core.invariant name="_M3PhouA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.label="inv33" org.eventb.core.predicate="updated1 ∈ BOOL"/>
    <org.eventb.core.invariant name="_M3QIsOA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.label="inv34" org.eventb.core.predicate="updated2 ∈ BOOL"/>
    <org.eventb.core.invariant name="_M3QIseA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.label="inv35" org.eventb.core.predicate="updated3 ∈ BOOL"/>
    <org.eventb.core.invariant name="_M3QIsuA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.label="inv36" org.eventb.core.predicate="updated4 ∈ BOOL"/>
    <org.eventb.core.variable name="_OYUS0OA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.identifier="updated3"/>
    <org.eventb.core.variable name="_OYUS0eA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.identifier="updated4"/>
    <org.eventb.core.event name="_pyNNkOBpEe218bBhaXjC4w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="updateFeuxEntreeP1">
        <org.eventb.core.guard name="_M3L3QOA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="updated1 = FALSE"/>
        <org.eventb.core.action name="_BdxB4N7TEe2Xl-935fcpbw" org.eventb.core.assignment="P1F :∣ (P1F' ∈ 5‥8 → trafficLights) ∧&#10;            (P1(1) = 0 ⇒ P1F'(5) = vert) ∧ (P1(1) ≠ 0 ⇒ P1F'(5) = rouge)&#10;            ∧ (P1(2) = 0 ⇒ P1F'(6) = vert) ∧ (P1(2) ≠ 0 ⇒ P1F'(6) = rouge)&#10;            ∧ (P1(3) = 0 ⇒ P1F'(7) = vert) ∧ (P1(3) ≠ 0 ⇒ P1F'(7) = rouge)&#10;            ∧ (P1(4) = 0 ⇒ P1F'(8) = vert) ∧ (P1(4) ≠ 0 ⇒ P1F'(8) = rouge)" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
        <org.eventb.core.action name="_M3MeUOA-Ee2sHe80PYiYmw" org.eventb.core.assignment="updated1 ≔ TRUE" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_pyPCwOBpEe218bBhaXjC4w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="updateFeuxEntreeP2">
        <org.eventb.core.guard name="_M3NFYOA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="updated2 = FALSE"/>
        <org.eventb.core.action name="_BdyQAN7TEe2Xl-935fcpbw" org.eventb.core.assignment="P2F :∣ (P2F' ∈ 1‥8 → trafficLights) ∧&#10;            (P2(1) = 0 ⇒ P2F'(5) = vert) ∧ (P2(1) ≠ 0 ⇒ P2F'(5) = rouge)&#10;            ∧ (P2(2) = 0 ⇒ P2F'(6) = vert) ∧ (P2(2) ≠ 0 ⇒ P2F'(6) = rouge)&#10;            ∧ (P2(3) = 0 ⇒ P2F'(7) = vert) ∧ (P2(3) ≠ 0 ⇒ P2F'(7) = rouge)&#10;            ∧ (P2(4) = 0 ⇒ P2F'(8) = vert) ∧ (P2(4) ≠ 0 ⇒ P2F'(8) = rouge)&#10;            ∧(P2(1) = 0 ⇒ P2F'(1) = vert) ∧ (P2(1) ≠ 0 ⇒ P2F'(1) = rouge)&#10;            ∧ (P2(2) = 0 ⇒ P2F'(2) = vert) ∧ (P2(2) ≠ 0 ⇒ P2F'(2) = rouge)&#10;            ∧ (P2(3) = 0 ⇒ P2F'(3) = vert) ∧ (P2(3) ≠ 0 ⇒ P2F'(3) = rouge)&#10;            ∧ (P2(4) = 0 ⇒ P2F'(4) = vert) ∧ (P2(4) ≠ 0 ⇒ P2F'(4) = rouge)" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
        <org.eventb.core.action name="_M3NFYeA-Ee2sHe80PYiYmw" org.eventb.core.assignment="updated2 ≔ TRUE" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_pyRfAOBpEe218bBhaXjC4w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="updateFeuxEntreeP3">
        <org.eventb.core.guard name="_M3NscOA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="updated3 = FALSE"/>
        <org.eventb.core.action name="_Bdy3EN7TEe2Xl-935fcpbw" org.eventb.core.assignment="P3F :∣ (P3F' ∈ 1‥4 → trafficLights)&#10;            ∧(P3(1) = 0 ⇒ P3F'(1) = vert) ∧ (P3(1) ≠ 0 ⇒ P3F'(1) = rouge)&#10;            ∧ (P3(2) = 0 ⇒ P3F'(2) = vert) ∧ (P3(2) ≠ 0 ⇒ P3F'(2) = rouge)&#10;            ∧ (P3(3) = 0 ⇒ P3F'(3) = vert) ∧ (P3(3) ≠ 0 ⇒ P3F'(3) = rouge)&#10;            ∧ (P3(4) = 0 ⇒ P3F'(4) = vert) ∧ (P3(4) ≠ 0 ⇒ P3F'(4) = rouge)" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
        <org.eventb.core.action name="_M3NsceA-Ee2sHe80PYiYmw" org.eventb.core.assignment="updated3 ≔ TRUE" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_pyStIOBpEe218bBhaXjC4w" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="updateFeuxEntreeS1">
        <org.eventb.core.guard name="_M3OTgOA-Ee2sHe80PYiYmw" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="updated4 = FALSE"/>
        <org.eventb.core.action name="_Bd0FMN7TEe2Xl-935fcpbw" org.eventb.core.assignment="S1F :∣ (S1F' ∈ 1‥4 → trafficLights)&#10;            ∧ (S1(1) = 0 ⇒ S1F'(1) = vert ∧ S1F'(3) = vert) ∧ (S1(1) ≠ 0 ⇒ S1F'(1) = rouge ∧ S1F'(3) = rouge)&#10;            ∧ (S1(2) = 0 ⇒ S1F'(2) = vert ∧ S1F'(4) = vert) ∧ (S1(2) ≠ 0 ⇒ S1F'(2) = rouge ∧ S1F'(4) = rouge)" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
        <org.eventb.core.action name="_M3OTgeA-Ee2sHe80PYiYmw" org.eventb.core.assignment="updated4 ≔ TRUE" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_k3MPYuEJEe25rO18Fwho3g" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="updateFeuxSortieP2">
        <org.eventb.core.action name="_k3M2ceEJEe25rO18Fwho3g" org.eventb.core.assignment="P2FS :∣ (P2FS' ∈ 1‥2 → trafficLights) ∧&#10;            ((P1ToP2(1) = 0 ∧ P1ToP2(2) = 0) ⇒ P2FS'(1) = vert) ∧&#10;            ((P2ToP3(1) = 0 ∧ P2ToP3(2) = 0) ⇒ P2FS'(2) = vert) ∧&#10;            ((P1ToP2(1) ≠ 0 ∨ P1ToP2(2) ≠ 0) ⇒ P2FS'(1) = rouge) ∧&#10;            ((P2ToP3(1) ≠ 0 ∨ P2ToP3(2) ≠ 0) ⇒ P2FS'(2) = rouge)" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
        <org.eventb.core.guard name="_mXnuEOEOEe2sasslJeLr6A" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="updated5 = FALSE"/>
        <org.eventb.core.action name="_mXnuEeEOEe2sasslJeLr6A" org.eventb.core.assignment="updated5 ≔  TRUE" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_k3NdgeEJEe25rO18Fwho3g" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="updateFeuxSortieS1">
        <org.eventb.core.action name="_v-hJIOEJEe25rO18Fwho3g" org.eventb.core.assignment="S1FS :∣ (S1FS' ∈ 1‥2 → trafficLights) ∧&#10;            ((P1ToS1(1) = 0 ∧ P1ToS1(2) = 0) ⇒ S1FS'(1) = vert) ∧&#10;            ((S1ToP3(1) = 0 ∧ S1ToP3(2) = 0) ⇒ S1FS'(2) = vert) ∧&#10;            ((P1ToS1(1) ≠ 0 ∨ P1ToS1(2) ≠ 0) ⇒ S1FS'(1) = rouge) ∧&#10;            ((S1ToP3(1) ≠ 0 ∨ S1ToP3(2) ≠ 0) ⇒ S1FS'(2) = rouge)" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
        <org.eventb.core.guard name="_mXoVIOEOEe2sasslJeLr6A" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="updated6 = FALSE"/>
        <org.eventb.core.action name="_mXoVIeEOEe2sasslJeLr6A" org.eventb.core.assignment="updated6 ≔ TRUE" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
    </org.eventb.core.event>
    <org.eventb.core.variable name="_mXoVIuEOEe2sasslJeLr6A" org.eventb.core.generated="false" org.eventb.core.identifier="updated5"/>
    <org.eventb.core.variable name="_mXoVI-EOEe2sasslJeLr6A" org.eventb.core.generated="false" org.eventb.core.identifier="updated6"/>
    <org.eventb.core.invariant name="_mXo8MOEOEe2sasslJeLr6A" org.eventb.core.generated="false" org.eventb.core.label="inv37" org.eventb.core.predicate="updated5 ∈ BOOL"/>
    <org.eventb.core.invariant name="_mXo8MeEOEe2sasslJeLr6A" org.eventb.core.generated="false" org.eventb.core.label="inv38" org.eventb.core.predicate="updated6 ∈ BOOL"/>
</org.eventb.core.machineFile>
